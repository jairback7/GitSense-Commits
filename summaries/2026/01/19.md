# Activity Summary for 19/1/2026

## 4:23:39
The provided logs detail a series of changes across several files related to a Smart TV application named "3Cat" (previously "App3Cat"), focusing primarily on the build and packaging process, platform utility functions, and UI component logic.

### File-Specific Updates:

1.  **`c:\Users\Usuario\Documents\Trabajo\MEDIAPRO\3cat_smarttv\package-launcher-apps.cjs`**
    *   **Timestamp: 14/1/2026, 12:28:33**
        *   Initial version of a Node.js script for packaging remote launcher applications for `webos` (as `.ipk`) and `tizen` (as `.wgt`) platforms.
        *   Includes utility functions for parsing CLI arguments, formatting dates, reading app name/version from `package.json`, directory management (create, list, copy, remove), and selecting the newest package file.
        *   The script uses `ares-package` for WebOS and `tizen package` for Tizen.
        *   The final package name format is `appName_PLATFORM_YYYYMMDD_vVERSION_ENV.ext`.
    *   **Timestamp: 14/1/2026, 12:31:38**
        *   Added `readlineSync` import for interactive input, specifically noted for Tizen PRO certificate selection.
        *   Introduced platform-specific logic for WebOS (LG multi-resolution) and Tizen.
        *   For WebOS, it now generates two packages, one for `720p` and one for `1080p`, modifying `appinfo.json` in a temporary directory to set `screenWidth` and `screenHeight`.
        *   For Tizen PRO environment, it prompts the user to "Enter the certificate/profile name to sign the app".
        *   The script now returns immediately after WebOS packaging is complete, indicating a divergence in the flow.
    *   **Timestamp: 14/1/2026, 12:36:07**
        *   Minor refactor and clarification of comments (e.g., `// <-- aÃ±adido para cert Tizen PRO`).
        *   Consolidated the `STEP 8: Print success info` for WebOS inside its resolution loop. The overall structure for Tizen remained similar to the previous change.
    *   **Timestamp: 14/1/2026, 12:39:35**
        *   Removed the `readlineSync` import. For Tizen PRO, it now explicitly logs that "Tizen CLI will prompt for the certificate if multiple exist," implying the `tizen package` command handles this interaction directly without `readlineSync`.
        *   The Tizen packaging command no longer includes the `-s` (sign) option, relying on the Tizen CLI's default behavior for certificate prompting.
    *   **Timestamp: 14/1/2026, 12:40:47**
        *   No significant functional changes; appears to be a minor re-save or formatting change without new code.
    *   **Timestamp: 14/1/2026, 12:48:19**
        *   Modified WebOS packaging: instead of `screenWidth` and `screenHeight`, it now sets `appinfo.resolution` to a string like "1280x720" or "1920x1080".
        *   Added a debug log `DEBUG: LG package temp JSON resolution=` to show the modified resolution.
    *   **Timestamp: 14/1/2026, 12:54:31**
        *   Refined WebOS packaging flow:
            *   Moved the renaming and success message logic for WebOS packages outside the resolution loop. It now collects all generated `.ipk` files *after* both resolutions are processed and then iterates through the `resolutions` to rename them based on suffix.
            *   Added `appinfo.version = pkgVersion;` for WebOS `appinfo.json` modification to ensure the package version is also updated.
            *   Cleaned up temporary directory removal (removed `if (fs.existsSync(tmpDir)) fs.rmdirSync(tmpDir);` from Tizen block, as `removeDirRecursive` already handles non-existence).
    *   **Timestamp: 14/1/2026, 12:56:18 & 12:58:34 & 13:00:49 & 13:01:14 & 13:03:53**
        *   These entries appear to be very minor changes, potentially just re-saving or slight reformatting. The code content is virtually identical across these timestamps.
        *   The primary change from 12:54:31 onwards is the `appinfo.version = pkgVersion;` line for WebOS.
    *   **Timestamp: 14/1/2026, 13:13:19**
        *   Reintroduced `readline` (standard Node.js module) for interactive input instead of `readlineSync`.
        *   Added a new function `chooseTizenProfile` to interactively list and select Tizen security profiles using `tizen security-profiles list` command.
        *   The Tizen packaging logic was updated to use this new `chooseTizenProfile` function for PRO environments to sign the package using the selected profile. The `runPackage` function now accepts a `signProfile` argument.
    *   **Timestamp: 14/1/2026, 13:13:24**
        *   No functional changes; seems like an immediate re-save after the previous update.
    *   **Timestamp: 14/1/2026, 13:18:23 & 13:20:38**
        *   Refined `chooseTizenProfile` to extract only the *name* (first column) of the security profiles from the `tizen security-profiles list` output, making the selection more robust.
    *   **Timestamp: 14/1/2026, 13:51:14**
        *   Introduced version updating for Tizen packages: it now modifies the `config.xml` file in the temporary directory to replace the `version` attribute within the `<widget>` tag with `pkgVersion`. This ensures the Tizen package also reflects the correct app version.
    *   **Timestamp: 14/1/2026, 13:56:41**
        *   Refined the regex for updating the Tizen `config.xml` to `/<widget([^>]*?)version="[^"]+"/, `<widget$1version="${pkgVersion}"``. This ensures the `version` attribute is replaced correctly regardless of other attributes in the `<widget>` tag.
    *   **Timestamp: 14/1/2026, 14:02:48**
        *   Added a check `if (fs.existsSync(tmpDirRes)) fs.rmdirSync(tmpDirRes);` after `removeDirRecursive(tmpDirRes)` in the WebOS loop, which seems redundant as `removeDirRecursive` handles non-existent directories. This might be a cautious addition.
    *   **Timestamp: 17/1/2026, 10:19:34**
        *   Changed how the package version is handled:
            *   Removed `pkgVersion` from `package.json` for the final naming.
            *   Introduced a new function `isValidSemver` to validate semantic versioning (X.X.X).
            *   Added `askBinaryVersion` to prompt the user for a "binary version" (X.X.X) or use a default (`1.0.0`). This version can also be passed via a `--binVersion` CLI argument.
            *   The `appinfo.version` for WebOS and the `<widget version>` for Tizen `config.xml` now use this `binVersion`.
            *   The final package name format changed to `AppName_PLATFORM_YYYYMMDD_vBINVERSION_ENV.ext`.
        *   Removed some console logs like `DEBUG: LG package temp JSON resolution=`.
    *   **Timestamp: 17/1/2026, 10:25:41**
        *   Refactored `askBinaryVersion` into `promptBinaryVersion` and removed the `isValidSemver` and `binVersionFromCli` logic, making it *always* prompt the user for the binary version without CLI override or default.
        *   The `main` function now directly calls `promptBinaryVersion` as a callback.
    *   **Timestamp: 17/1/2026, 10:33:55**
        *   Changed the fallback app name in `readAppName` from `'App3Cat'` to `'3cat'`.
        *   Updated the `templateDir` path for WebOS and Tizen from `App3Cat_${env}` to `3cat_${env}`. This indicates a naming change in the template directory structure.
    *   **Timestamp: 17/1/2026, 10:56:17**
        *   Introduced `platformTag` and `envTag` variables, converting `platform` and `env` to lowercase for use in the final package `targetName`. This changes `WEBOS` to `webos` and `DEV`/`PRE`/`PRO` to `dev`/`pre`/`pro` in the filename.
    *   **Timestamp: 17/1/2026, 10:57:03**
        *   No functional changes; seems like an immediate re-save.

2.  **`c:\Users\Usuario\Documents\Trabajo\MEDIAPRO\3cat_smarttv\src\components\mediaInfo\infoGroup\index.jsx`**
    *   **Timestamp: 14/1/2026, 14:17:53**
        *   This file represents a React component (`InfoGroup`) responsible for displaying various media information (tags, title, description, duration, age rating, etc.).
        *   A significant block of commented-out code (`// JIRA CCMA-2104: Eliminamos funcionalidad 'A partir del'`) indicates the removal of a "Publication" component that displayed `licensed_on` dates. This was done to streamline info display.
        *   Adjusted `logoImage` logic: if `item.type` is 'live', it uses `item.content_logo`; otherwise, `getLogoImage(images)`.
        *   Modified the `shouldShowProgramTitle` and `shouldShowEpisodeTitle` `useMemo` hooks, specifically commenting out `!item.is_episode` from `shouldShowProgramTitle`.
        *   Added a new rendering block for `item.is_external && item.external_content_data?.dates` to display external live or white tags based on `isLiveExternal` and `whiteTagText` from `useExternalEmission` hook.
        *   Added a check for `item.external_content_data?.platform_image || item.is_external` to display an external platform logo.
        *   Introduced a new `MediaTag` for `item.is_licensed === false && item.licensed_on` displaying "Disponible" formatted dates.
        *   Adjusted the `height` and `width` of the `logoWrapper` for live items and removed a `filter: invert(100%)` line.
    *   **Timestamp: 14/1/2026, 16:02:00**
        *   No discernible functional changes; likely a re-save or minor formatting update.

3.  **`c:\Users\Usuario\Documents\Trabajo\MEDIAPRO\3cat_smarttv\src\components\rows\genericRow\styles.scss`**
    *   **Timestamp: 14/1/2026, 16:13:54**
        *   This SCSS file defines styles for various row types in the UI.
        *   Modified the `&:hover` and `&.focused` states for `.item-show-all` elements to use `$base-color-3cat-red` for box-shadow, border-color, and outline.
        *   The border property was removed from `&:hover` and `&.focused` to just `border: 0px;` after the outline.

4.  **`c:\Users\Usuario\Documents\Trabajo\MEDIAPRO\3cat_smarttv\build_templates\README.md`**
    *   **Timestamp: 17/1/2026, 10:34:38**
        *   Updated the folder structure example for `webos` templates from `App3Cat_DEV` to `3cat_DEV`, reflecting a change in naming convention.
    *   **Timestamp: 17/1/2026, 10:37:02**
        *   Updated the "Expected build outputs" section to include version numbers (`vX.X.X`) and resolution suffixes (`_720`, `_1080`) in the example filenames for WebOS and Tizen packages, indicating more granular output naming. This is consistent with the changes in `package-launcher-apps.cjs`.
    *   **Timestamp: 17/1/2026, 11:11:00**
        *   Updated the folder structure example for `webos` templates to explicitly state `3cat_dev/`, `3cat_pre/`, `3cat_pro/` (previously `App3Cat_DEV`, etc.), aligning with the `package-launcher-apps.cjs` change.

5.  **`c:\Users\Usuario\Documents\Trabajo\MEDIAPRO\3cat_smarttv\build_templates\tizen\README.md`**
    *   **Timestamp: 17/1/2026, 10:37:46**
        *   Initial addition of a `README.md` specifically for Tizen build instructions.
        *   Includes commands for `tizen package`, `sdb devices`, and `tizen install`.

6.  **`c:\Users\Usuario\Documents\Trabajo\MEDIAPRO\3cat_smarttv\build_templates\tizen\3cat_dev\gateway\js\app.js`**
    *   **Timestamp: 17/1/2026, 10:45:06**
        *   Sets `REMOTE` URL to `https://smartv-dev.3cat.website/index.html`.
        *   Contains logic to check network connectivity (`webapis.network.isConnectedToGateway`) and redirect to the `REMOTE` URL or display an alert.
        *   Registers and handles `VK_BACK` and `VK_EXIT` keys to exit the application.
        *   Includes a network state change listener to redirect once connected.

7.  **`c:\Users\Usuario\Documents\Trabajo\MEDIAPRO\3cat_smarttv\build_templates\tizen\3cat_pre\gateway\js\app.js`**
    *   **Timestamp: 17/1/2026, 10:45:19**
        *   Similar to the `_dev` version, but `REMOTE` URL points to `https://smartv-pre.3cat.website/index.html`.

8.  **`c:\Users\Usuario\Documents\Trabajo\MEDIAPRO\3cat_smarttv\build_templates\tizen\3cat_dev\config.xml` & `build_templates\tizen\3cat_pre\config.xml`**
    *   **Timestamp: 17/1/2026, 11:02:30 & 11:03:00**
        *   These `config.xml` files define Tizen application configurations.
        *   Both specify a `version="3.4.6"`.
        *   They also define specific `id` and `package` attributes (`i40jdPIQJb.3Cat` for `3cat_dev`, `PMVOmA9N8K.3Cat` for `3cat_pre`).
        *   Added `tizen:metadata` keys for `devel.api.version` (8.0), `use.preview` endpoint, and `search.format`.

9.  **`c:\Users\Usuario\Documents\Trabajo\MEDIAPRO\3cat_smarttv\build_templates\tizen\3cat_dev\.project` & `c:\Users\Usuario\Documents\Trabajo\MEDIAPRO\3cat_smarttv\build_templates\tizen\3cat_pre\.project`**
    *   **Timestamp: 17/1/2026, 11:16:08 & 11:16:17 & 11:16:26 & 11:16:32 & 11:20:39 & 11:20:59**
        *   These `.project` files define Eclipse/Tizen Studio project settings.
        *   Initially, `3cat_dev` had `name>3catdev</name>` and `3cat_pre` had `name>3cat_pre</name>`.
        *   Subsequently, their `<name>` tags were updated to `3catDev` and `3catPre` respectively, then later back to `3cat_dev` and `3cat_pre`. This indicates some back and forth on naming consistency for project configurations.

10. **`c:\Users\Usuario\Documents\Trabajo\MEDIAPRO\3cat_smarttv\build_templates\webos\3cat_dev\.project` & `build_templates\webos\3cat_pre\.project`**
    *   **Timestamp: 17/1/2026, 11:20:30 & 11:34:16**
        *   These `.project` files define Eclipse/WebOS Studio project settings, similar in function to the Tizen ones.
        *   Both are named `3cat_dev` and `3cat_pre` respectively.

11. **`c:\Users\Usuario\Documents\Trabajo\MEDIAPRO\3cat_smarttv\build_templates\webos\3cat_dev\gateway\js\app.js`**
    *   **Timestamp: 17/1/2026, 11:21:52**
        *   Sets `REMOTE` URL to `https://smartv-dev.3cat.website/index.html`.
        *   Contains WebOS-specific logic to get `sdkVersion`, determine the `connectionmanager` service, check network connectivity, and redirect to the `REMOTE` URL or display an alert.
        *   Handles `VK_BACK` key to trigger `webOS.platformBack()`.

12. **`c:\Users\Usuario\Documents\Trabajo\MEDIAPRO\3cat_smarttv\build_templates\webos\3cat_pre\appinfo.json` & `build_templates\webos\3cat_dev\appinfo.json`**
    *   **Timestamp: 17/1/2026, 11:34:24 & 11:34:33**
        *   These `appinfo.json` files define WebOS application metadata.
        *   Both specify `resolution="1920x1080"` and `version="2.4.3"`.
        *   Initial `id` for `3cat_pre` was `cat.3cat.webos`.
    *   **Timestamp: 17/1/2026, 11:35:20 & 11:35:29**
        *   Updated the `id` for both `appinfo.json` files from `cat.3cat.webos` to `com.mediapro.3cat`. This indicates a change in the application identifier.

13. **`c:\Users\Usuario\Documents\Trabajo\MEDIAPRO\3cat_smarttv\build_templates\webos\3cat_pre\gateway\js\app.js`**
    *   **Timestamp: 17/1/2026, 11:36:57**
        *   Similar to the `_dev` version, but `REMOTE` URL points to `https://smartv-pre.3cat.website/index.html`.
    *   **Timestamp: 17/1/2026, 11:43:23**
        *   Added a `query = '?pr=true'` to the `REMOTE` URL when redirecting. This implies a new parameter `pr=true` is being passed to the pre-production hosted web app, possibly for a specific feature or debug mode.

14. **`c:\Users\Usuario\Documents\Trabajo\MEDIAPRO\3cat_smarttv\src\utils\platformUtils.js`**
    *   **Timestamp: 17/1/2026, 12:23:41**
        *   Introduced `platformOverride` parameter to `getPlatform` function, allowing the platform to be overridden, likely for testing purposes.
        *   Removed `hisense` from `Platform strings` comment.
        *   Removed the `hisense` case from the `switch` statement in `getOSVersion`.
    *   **Timestamp: 17/1/2026, 12:31:11**
        *   Updated `ua.includes("Web0S")` to `ua.includes("Web0S") || ua.includes("WebOS")` for more robust WebOS detection.
    *   **Timestamp: 17/1/2026, 12:31:32**
        *   Removed `hisense` as a valid platform string in comments.
    *   **Timestamp: 17/1/2026, 12:32:29**
        *   Added explicit logic to `getPlatform` to check for `platformOverride` first: if present, it uses that value and logs it. This formalizes the platform override mechanism.
    *   **Timestamp: 17/1/2026, 12:33:58**
        *   No functional changes; seems like a re-save or minor formatting.
    *   **Timestamp: 17/1/2026, 12:43:11**
        *   Refactored `getPlatform` to directly read the `platform` query parameter from `window.location.search` instead of accepting an argument. This centralizes the query string parsing within `platformUtils`.
        *   Removed the `platformOverride` parameter from `getPlatform` signature.

15. **`c:\Users\Usuario\Documents\Trabajo\MEDIAPRO\3cat_smarttv\src\App.jsx`**
    *   **Timestamp: 17/1/2026, 12:27:06**
        *   The `InitApp` function now accepts `platformOverride` and passes it to `Platform.getPlatform`. This aligns with the `platformUtils.js` changes to allow platform overriding.
    *   **Timestamp: 17/1/2026, 12:27:35 & 12:27:45**
        *   Reverted `InitApp` to no longer accept `platformOverride`. This means `Platform.getPlatform()` will be called without an explicit override from `App.jsx`, relying solely on `platformUtils.js` to handle query string parsing.
    *   **Timestamp: 17/1/2026, 12:28:11**
        *   Re-introduced `platformOverride` parameter to `InitApp` and passed it to `Platform.getPlatform()`. This suggests ongoing iteration on how platform overriding is passed and handled.
    *   **Timestamp: 17/1/2026, 12:43:32**
        *   Final change: `InitApp` no longer takes `qsPlatform` as an argument. It calls `Platform.getPlatform()` without arguments, relying on the updated `platformUtils.js` to handle query string parsing for platform detection internally. The `qsPlatform` variable remains but is not passed to `InitApp`.

16. **`c:\Users\Usuario\Documents\Trabajo\MEDIAPRO\3cat_smarttv\src\platform\platform.js`**
    *   **Timestamp: 17/1/2026, 12:37:07**
        *   The `Platform` object now directly exposes `Platform.getPlatform = window.PlatformUtils.getPlatform;`. This is a crucial change, making the `Platform` module rely on the `platformUtils` for platform detection logic, including the query string override.
        *   Removed `web0s` from the `launchAppWebOS` call in `launchApp`'s switch statement.

17. **`c:\Users\Usuario\Documents\Trabajo\MEDIAPRO\3cat_smarttv\src\platform\generic.js`**
    *   **Timestamp: 17/1/2026, 12:57:09**
        *   Updated the `onKeyDownHandler` to specifically handle `VK_BACK` / `EXIT` keys for different platforms.
        *   Removed `case 0x27C6: // EXIT key for Samsung (close popups)` and changed `case 0xa6: // VK_ESCAPE` to `case 0x1b: // VK_BACK_SPACE`.
    *   **Timestamp: 17/1/2026, 12:59:31**
        *   Adjusted key codes for `VK_BACK` / `EXIT`:
            *   Added `case 461: // TIVO` (was `0x1cd` for WebOS, now duplicated for TIVO).
            *   Changed `case 0xa6: // VK_ESCAPE` to `case 166: // VK_ESCAPE`.
            *   Changed `case 0x1b: // VK_BACK_SPACE` to `case 27: // VK_BACK_SPACE`.
            *   Commented out `//case 10182: // EXIT key for Samsung (close popups)`.

### Patterns and Recurring Elements:

*   **Consistent File Path:** All changes occur within the `c:\Users\Usuario\Documents\Trabajo\MEDIAPRO\3cat_smarttv\` directory, indicating a focused development effort within this specific project.
*   **Platform-Specific Logic:** A dominant pattern is the separation and evolution of logic for `WebOS` (LG) and `Tizen` (Samsung) platforms. This includes distinct packaging commands, temporary directory structures, and metadata file (`appinfo.json` for WebOS, `config.xml` for Tizen) modifications.
*   **Versioning and Naming:** There's a clear emphasis on dynamic versioning (reading from `package.json` or prompting the user) and precise naming conventions for output packages, incorporating app name, platform, date, version, environment, and even resolution suffixes. The shift from `App3Cat` to `3cat` in naming is also notable.
*   **Temporary Directories and Cleanup:** The build scripts consistently use temporary directories (`tmp_webos_`, `tmp_tizen_`) for packaging operations and include `removeDirRecursive` calls for cleanup.
*   **Interactive Build Process:** The introduction and refinement of `readline`/`readlineSync` and functions like `chooseTizenProfile` show an evolution towards a more interactive command-line interface for the packaging script, especially for handling production environment requirements like certificate selection.
*   **Refinement of Platform Detection:** The `src\utils\platformUtils.js` and `src\App.jsx` files show an iterative process for defining and detecting the target platform, including support for overriding detection via query strings and robust user agent parsing.
*   **Debug Information:** Several `console.log` and debug-related comments indicate that the application has robust logging and debug information display capabilities for development and testing.
*   **Key Event Handling:** The `src\platform\generic.js` shows continued refinement of universal keyboard navigation and back/exit key handling across different Smart TV environments.
*   **JIRA References:** Explicit JIRA references (e.g., `CCMA-2104`, `CCMA-1685`) in `infoGroup\index.jsx` indicate that these changes are driven by specific feature requests or bug fixes within a project management system.
*   **URL/Endpoint Management:** Changes in `gateway\js\app.js` for both Tizen and WebOS show that the application acts as a launcher, redirecting to environment-specific hosted web apps (e.g., `smartv-dev.3cat.website`, `smartv-pre.3cat.website`). The addition of `?pr=true` for pre-production WebOS further highlights this.

## 5:23:33
The provided log details changes across multiple files in the `c:\Users\Usuario\Documents\Trabajo\MEDIAPRO\3cat_smarttv\` directory, primarily focusing on a packaging script and UI components, occurring between 14/1/2026 and 17/1/2026.

### File-Specific Updates:

#### `package-launcher-apps.cjs` (Multiple updates from 14/1/2026, 12:28:33 to 17/1/2026, 10:57:03)
This Node.js script is responsible for packaging smart TV applications for WebOS and Tizen platforms across 'DEV', 'PRE', and 'PRO' environments.

*   **14/1/2026, 12:28:33**: Initial state of the script. It handles parsing CLI arguments for `platform` and `env`, reading app name from `package.json`, creating output directories, and executing platform-specific packaging commands (`ares-package` for WebOS, `tizen package` for Tizen). It also includes utility functions for file system operations (`ensureDir`, `listPackages`, `pickNewOrLatest`, `copyRecursive`, `removeDirRecursive`).
*   **14/1/2026, 12:31:38**: Introduced `readlineSync` dependency for Tizen PRO environment to prompt for a certificate name. This indicates an initial attempt to handle signing for production Tizen apps.
*   **14/1/2026, 12:36:07**: Refactored the WebOS packaging logic to support multi-resolution builds (720p and 1080p). For each resolution, it creates a temporary directory, modifies `appinfo.json` to set `screenWidth` and `screenHeight`, packages the app, then removes the temporary directory and renames the generated `.ipk` file with a resolution suffix.
*   **14/1/2026, 12:39:35**: Reverted the use of `readlineSync` for Tizen PRO signing, replacing it with a console log message indicating that "Tizen CLI will prompt for the certificate if multiple exist." This implies a change in strategy for handling Tizen PRO signing, relying on the Tizen CLI's interactive capabilities instead of a custom prompt.
*   **14/1/2026, 12:40:47 - 14/1/2026, 13:03:53**: Minor refinements in comments and console log messages, and a bug fix in the WebOS `appinfo.json` modification logic. The `appinfo.json` for WebOS now correctly sets `appinfo.resolution` to a string like "1280x720" instead of `screenWidth` and `screenHeight` as separate properties, and also sets the `appinfo.version` from `pkgVersion`. The logic for renaming generated WebOS packages was moved outside the loop for each resolution, and subsequently, logic for handling each generated package was added back to be inside the loop. The `DEBUG` log for WebOS temp JSON shows `resolution` and `version`.
*   **14/1/2026, 13:13:19 - 14/1/2026, 13:20:38**: Reintroduced and refined the Tizen PRO signing process. The `readlineSync` was replaced with the standard `readline` module for interactive input. A new `chooseTizenProfile` function was added to list available Tizen security profiles using `tizen security-profiles list` and prompt the user to select one for signing PRO packages. The Tizen packaging command `tizen package` now dynamically includes the `--sign` flag with the chosen profile name. Minor adjustments were made to parsing the output of `tizen security-profiles list` to correctly extract profile names.
*   **17/1/2026, 10:19:34**: Significant changes to versioning:
    *   Introduced a new `isValidSemver` function to validate semantic versioning (X.X.X).
    *   Added `askBinaryVersion` function to prompt the user for a binary version, defaulting to '1.0.0'. This version can also be passed via a `--binVersion` CLI argument.
    *   The `appinfo.json` for WebOS and `config.xml` for Tizen are now updated with this `binVersion` instead of `pkgVersion`.
    *   The output filename format for generated packages was updated to include `_vX.X.X_` (e.g., `appName_WEBOS_YYYYMMDD_vBINVERSION_ENV.ipk`).
    *   The `console.log` for template directory was updated to use `binVersion`.
*   **17/1/2026, 10:25:41**: Renamed `askBinaryVersion` to `promptBinaryVersion` for clarity.
*   **17/1/2026, 10:33:55**: Changed the fallback application name from `'App3Cat'` to `'3cat'` in the `readAppName` function. Updated the `templateDir` path to reflect this change (`3cat_${env}` instead of `App3Cat_${env}`).
*   **17/1/2026, 10:56:17**: Introduced `platformTag` and `envTag` variables to ensure that platform and environment names in the output filenames are consistently lowercase.
*   **17/1/2026, 10:57:03**: Minor change, potentially fixing a trailing space or similar small formatting.
*   **17/1/2026, 13:51:14**: For Tizen, added logic to update the `version` attribute in `config.xml` with the `pkgVersion` (later `binVersion`). This uses a regex to replace the version in the `<widget>` tag.
*   **17/1/2026, 13:56:41**: Refined the regex for updating the Tizen `config.xml` to be more robust, ensuring it only targets the `version` attribute within the `<widget>` tag.
*   **17/1/2026, 14:02:48**: Added an extra `fs.rmdirSync(tmpDirRes)` check for WebOS temporary directories, ensuring they are removed if they exist.

#### `src\components\mediaInfo\infoGroup\index.jsx` (Updates on 14/1/2026, 14:17:53 and 16:02:00)
This React component handles displaying media information.

*   **14/1/2026, 14:17:53**: Removed a commented-out section related to 'A partir del' (Publication date) functionality, referencing "JIRA CCMA-2104". This indicates a feature removal or deprecation. Minor adjustments in comments related to `logoImage` filter for `item.collection === 'link'`.
*   **14/1/2026, 16:02:00**: No significant code changes compared to the previous timestamp, likely a re-save or minor, non-functional edit.

#### `src\components\rows\genericRow\styles.scss` (Update on 14/1/2026, 16:13:54)
This SCSS file defines styles for various types of rows in the application's UI.

*   **14/1/2026, 16:13:54**: Added a new style block for `&.rowType_LIVE_TV.externalRow` which sets a specific height of `338px`. Also, added a style definition for `&.rowType_LIVE_TV` setting `padding-bottom: 0px`. This suggests new styling or a bug fix for live TV rows, particularly for external content.

#### `build_templates\README.md` (Updates on 17/1/2026, 10:34:38 and 11:11:00)
This Markdown file provides documentation for the build templates.

*   **17/1/2026, 10:34:38**: Updated the folder structure example to rename `webos/App3Cat_DEV` to `webos/3cat_dev`, and similarly for PRE and PRO environments, aligning with the change made in `package-launcher-apps.cjs`.
*   **17/1/2026, 10:37:02**: Updated the "Expected build outputs" section to reflect the new naming convention including `_vX.X.X_` (version number) and lowercase platform/environment suffixes in the filenames.
*   **17/1/2026, 11:11:00**: Consistent update of folder structure examples to `3cat_dev`, `3cat_pre`, `3cat_pro` for both `tizen` and `webos` platforms.

#### `build_templates\tizen\README.md` (Update on 17/1/2026, 10:37:46)
This README specifically details Tizen build instructions.

*   **17/1/2026, 10:37:46**: Added information about the `tizen package` command including `--name` for install and instructions for `sdb devices` to list devices.

#### `build_templates\tizen\3cat_dev\gateway\js\app.js` (Update on 17/1/2026, 10:45:06)
This JavaScript file handles the application's initial loading logic for the Tizen DEV environment.

*   **17/1/2026, 10:45:06**: No functional change observed from the provided diff, the `REMOTE` URL remains `https://smartv-dev.3cat.website/index.html` in both conditions. Likely a re-save or minor formatting.

#### `build_templates\tizen\3cat_pre\gateway\js\app.js` (Update on 17/1/2026, 10:45:19)
This JavaScript file handles the application's initial loading logic for the Tizen PRE environment.

*   **17/1/2026, 10:45:19**: No functional change observed from the provided diff, the `REMOTE` URL remains `https://smartv-pre.3cat.website/index.html` in both conditions. Likely a re-save or minor formatting.

#### `build_templates\tizen\3cat_dev\config.xml` (Update on 17/1/2026, 11:02:30)
This XML file contains configuration for the Tizen DEV app.

*   **17/1/2026, 11:02:30**: Changed the `id` attribute of the `<tizen:application>` tag from `i40jdPIQJb.App3Cat` to `i40jdPIQJb.3Cat`. Also updated the `widget` id from `http://tizen.tv3.ccma.cat` to `http://tizen.tv3.ccma.cat` (no change in provided snippet) and `name` from `App3Cat` to `3Cat`. These changes reflect rebranding or a naming convention update.

#### `build_templates\tizen\3cat_pre\config.xml` (Update on 17/1/2026, 11:03:00)
This XML file contains configuration for the Tizen PRE app.

*   **17/1/2026, 11:03:00**: Changed the `id` attribute of the `<tizen:application>` tag from `PMVOmA9N8K.App3Cat` to `PMVOmA9N8K.3Cat`. Similar to the DEV config, this reflects rebranding.

#### `build_templates\tizen\3cat_dev\.project` (Updates on 17/1/2026, 11:16:08, 11:16:32, and 11:20:39)
This XML file defines project settings for the Tizen DEV environment.

*   **17/1/2026, 11:16:08**: Changed `<name>` from `3catdev` to `3catdev`. (No functional change apparent in diff).
*   **17/1/2026, 11:16:32**: Changed `<name>` from `3catdev` to `3catDev`. This is a case change in the project name.
*   **17/1/2026, 11:20:39**: Reverted `<name>` from `3catDev` back to `3cat_dev`.

#### `build_templates\tizen\3cat_pre\.project` (Updates on 17/1/2026, 11:16:17, 11:16:26, and 11:20:59)
This XML file defines project settings for the Tizen PRE environment.

*   **17/1/2026, 11:16:17**: Changed `<name>` from `3cat_pre` to `3cat_pre`. (No functional change apparent in diff).
*   **17/1/2026, 11:16:26**: Changed `<name>` from `3cat_pre` to `3catPre`. This is a case change in the project name.
*   **17/1/2026, 11:20:59**: Reverted `<name>` from `3catPre` back to `3cat_pre`.

#### `build_templates\webos\3cat_dev\.project` (Updates on 17/1/2026, 11:20:30)
This XML file defines project settings for the WebOS DEV environment.

*   **17/1/2026, 11:20:30**: Changed `<name>` from `3cat_dev` to `3cat_dev`. (No functional change apparent in diff).

#### `build_templates\webos\3cat_dev\gateway\js\app.js` (Update on 17/1/2026, 11:21:52)
This JavaScript file handles the application's initial loading logic for the WebOS DEV environment.

*   **17/1/2026, 11:21:52**: No significant functional changes observed.

#### `build_templates\webos\3cat_pre\.project` (Update on 17/1/2026, 11:34:16)
This XML file defines project settings for the WebOS PRE environment.

*   **17/1/2026, 11:34:16**: Changed `<name>` from `3cat_pre` to `3cat_pre`. (No functional change apparent in diff).

#### `build_templates\webos\3cat_pre\appinfo.json` (Updates on 17/1/2026, 11:34:24 and 11:35:20)
This JSON file contains application information for the WebOS PRE environment.

*   **17/1/2026, 11:34:24**: No functional change observed.
*   **17/1/2026, 11:35:20**: Changed the `id` attribute from `cat.3cat.webos` to `com.mediapro.3cat`. This is a significant change in the application's unique identifier.

#### `build_templates\webos\3cat_dev\appinfo.json` (Updates on 17/1/2026, 11:34:33 and 11:35:29)
This JSON file contains application information for the WebOS DEV environment.

*   **17/1/2026, 11:34:33**: No functional change observed.
*   **17/1/2026, 11:35:29**: Changed the `id` attribute from `cat.3cat.webos` to `com.mediapro.3cat`. Consistent with the PRE environment, this indicates a change in the application's unique identifier.

#### `build_templates\webos\3cat_pre\gateway\js\app.js` (Updates on 17/1/2026, 11:36:57 and 11:43:23)
This JavaScript file handles the application's initial loading logic for the WebOS PRE environment.

*   **17/1/2026, 11:36:57**: No significant functional changes observed.
*   **17/1/2026, 11:43:23**: Added `query = '?pr=true'` to the `REMOTE` URL when an internet connection is available. This suggests enabling a "production ready" flag or similar parameter for the hosted web application in the PRE environment.

#### `src\utils\platformUtils.js` (Multiple updates from 17/1/2026, 12:23:41 to 17/1/2026, 12:43:11)
This JavaScript utility file manages platform-specific logic and resolution configurations.

*   **17/1/2026, 12:23:41**: Removed "hisense" from the list of platform strings in `getPlatform`. This means Hisense support is either dropped or merged into a generic category.
*   **17/1/2026, 12:31:11**: Modified `getPlatform` to accept an optional `platformOverride` parameter. Also adjusted the `ua.includes` check for "WebOS" to include "Web0S" (with a zero) to catch more variations.
*   **17/1/2026, 12:31:32**: Removed the `platformOverride` parameter from the function signature of `getPlatform` and simplified the `Web0S` or `WebOS` user agent check.
*   **17/1/2026, 12:32:29**: Reintroduced the `platformOverride` logic in `getPlatform`, but now it reads the override from the URL query string (`qsPlatform`). The function explicitly logs if a query string platform override is being used.
*   **17/1/2026, 12:33:58**: Removed "hisense" from the comment describing platform strings.
*   **17/1/2026, 12:43:11**: Modified `window.PlatformUtils.getPlatform` to consistently derive the `platformOverride` from `window.location.search` (`urlParams.get('platform')`) and made the override logic the first check. The `platformOverride` parameter in the function signature was removed.

#### `src\App.jsx` (Multiple updates from 17/1/2026, 12:27:06 to 17/1/2026, 12:43:32)
This React component is the main entry point for the application.

*   **17/1/2026, 12:27:06**: Passed `platformOverride` from `urlParams.get("platform")` to `Platform.initPlatform`. This allows overriding the detected platform via a query string.
*   **17/1/2026, 12:27:35**: Removed the `platformOverride` parameter from `InitApp` function. The platform detection now relies solely on `Platform.getPlatform()` which no longer accepts an override.
*   **17/1/2026, 12:27:45**: No significant code changes, likely a re-save.
*   **17/1/2026, 12:28:11**: Reinstated the `platformOverride` parameter to the `InitApp` function, passing `qsPlatform` from the URL search parameters to `Platform.initPlatform`.
*   **17/1/2026, 12:43:32**: Removed `qsPlatform` variable and the `platformOverride` parameter from `InitApp()`, reverting platform initialization to `Platform.initPlatform()`, as `Platform.getPlatform()` now handles the query string internally.

#### `src\platform\platform.js` (Update on 17/1/2026, 12:37:07)
This JavaScript file abstracts platform-specific functionalities.

*   **17/1/2026, 12:37:07**: Changed how `Platform.getPlatform` is defined. Instead of `Platform.getPlatform = window.PlatformUtils.getPlatform(platformOverride);` (which would have meant calling it immediately), it's now `Platform.getPlatform = window.PlatformUtils.getPlatform;`. This assigns the function reference, allowing it to be called later with its own internal logic (including query string parsing).

#### `src\platform\generic.js` (Updates on 17/1/2026, 12:57:09 and 12:59:31)
This file provides generic keyboard navigation for Smart TVs.

*   **17/1/2026, 12:57:09**: Added `0x1cd` (TIVO) to the list of key codes for the "Back" action.
*   **17/1/2026, 12:59:31**: Added `461` (TIVO) to the list of key codes for the "Back" action, and removed `0x1cd`. Also changed `VK_ESCAPE` from `0xa6` to `166` and `VK_BACK_SPACE` from `0x1b` to `27`. This indicates a refinement of keyboard event handling for different smart TV platforms.

### Patterns and Recurring Elements:

*   **Platform-Specific Logic**: A consistent pattern across the `package-launcher-apps.cjs` script and the UI components is the heavy reliance on platform-specific logic (`isWebos`, `isHbbTV`, `isTizen`). The packaging script explicitly branches for WebOS and Tizen, and UI components adapt based on `window.AppGlobal.platform`.
*   **Versioning**: There's a strong recurring theme of managing and updating application versions. Initially, `pkgVersion` from `package.json` was used, but this evolved to introduce a separate `binVersion` (semantic version X.X.X) which is explicitly prompted from the user or passed via CLI. This binary version is then injected into platform-specific configuration files (`appinfo.json`, `config.xml`) and used in the final package filenames.
*   **Temporary Directories**: For both WebOS and Tizen packaging, the script consistently creates temporary directories (`tmp_webos_...`, `tmp_tizen_...`), copies the template into them, performs modifications, executes the packaging command, and then cleans up these temporary directories. This ensures the original templates remain pristine.
*   **Output Naming Convention**: The generated packages follow a structured naming convention: `appName_PLATFORM_YYYYMMDD_vVERSION_ENV_RESOLUTION.ext` (for WebOS) or `appName_PLATFORM_YYYYMMDD_vVERSION_ENV.ext` (for Tizen). This ensures easy identification of target platform, environment, date, and version.
*   **User Interaction for PRO Builds**: For 'PRO' environments, there's a recurring need for user interaction, specifically for Tizen certificate/profile selection. This evolved from `readlineSync` to a console message, and then to a more robust `readline`-based prompt with validation and listing of available profiles.
*   **Rebranding/Naming Changes**: Evident changes from "App3Cat" to "3Cat" in various file contents and template paths (`build_templates/{platform}/App3Cat_ENV` changed to `build_templates/{platform}/3cat_ENV`), suggesting a rebranding or simplification of the application name.
*   **Debugging/Logging**: The `App.jsx` and `platformUtils.js` files include extensive console logging for debugging, often prefixed with `[APP]` or `[Platform]`, and utilize `ajsrConsole` for enhanced debug output. `BuildInfo` component also displays various app and platform details conditionally.
*   **Keyboard Event Handling**: The `generic.js` file shows a pattern of standardizing keyboard event handling (e.g., Back key) across various Smart TV platforms by mapping different key codes to a single action.
*   **URL Query String Usage**: Both `App.jsx` and `platformUtils.js` demonstrate a pattern of reading `platform` and `pr=true` from URL query strings for dynamic configuration and platform detection.
# Activity Summary for 20/1/2026

## 9:19:10
The provided logs detail a series of changes primarily focused on the `package-launcher-apps.cjs` build script and related configuration files for a Smart TV application named "3Cat". There are also minor updates to React components and SCSS styles. The changes span from January 14, 2026, to January 17, 2026.

### File-Specific Updates:

1.  **`c:\Users\Usuario\Documents\Trabajo\MEDIAPRO\3cat_smarttv\package-launcher-apps.cjs` (Multiple timestamps from 14/1/2026 12:28:33 to 17/1/2026 10:57:03):**
    *   **Initial version (14/1/2026, 12:28:33):** This file is a Node.js script for packaging remote applications for WebOS (.ipk) and Tizen (.wgt) platforms. It handles CLI argument parsing (`--platform`, `--env`), reads app name from `package.json`, creates output directories, copies templates, runs platform-specific packaging commands (`ares-package` for WebOS, `tizen package` for Tizen), detects the newly generated package, and renames it to a standardized format (`appName_PLATFORM_YYYYMMDD_vVERSION_ENV.ext`). It also includes utility functions for file system operations like `ensureDir`, `listPackages`, `pickNewOrLatest`, `copyRecursive`, and `removeDirRecursive`.
    *   **Introduced `readlineSync` for Tizen PRO (14/1/2026, 12:31:38):** The script was updated to import `readlineSync` (commented as "para cert Tizen PRO"). A new section was added for WebOS to generate packages for multiple resolutions (720p and 1080p), modifying `appinfo.json` to set `screenWidth` and `screenHeight`. The WebOS packaging logic was moved into a loop. For Tizen PRO environment, it now prompts the user to enter a certificate/profile name for signing the app. The logic for renaming the package was adjusted to handle multiple WebOS packages.
    *   **Refinement of Tizen PRO certificate prompt (14/1/2026, 12:36:07):** The `readlineSync` import comment was clarified ("añadido para cert Tizen PRO"). The WebOS section was further refined to explicitly rename each generated package within the loop after creation. The main `pickNewOrLatest` and `renameSync` calls for Tizen (and the single WebOS case in previous versions) were moved to after the `if (isWebos)` block's `return;` statement, indicating that the Tizen logic now processes a single package at the end.
    *   **Removed `readlineSync` and simplified Tizen PRO prompt (14/1/2026, 12:39:35):** The `readlineSync` import and its usage for Tizen PRO were removed. Instead, for Tizen PRO, a console message `❗ PRO environment: Tizen CLI will prompt for the certificate if multiple exist.` was added, implying the `tizen package` command would handle prompting directly without a `--sign` flag from the script.
    *   **Minor code reformatting and cleanup (14/1/2026, 12:40:47 to 14/1/2026, 13:03:53):** Several small changes, mostly related to comments, console logs (e.g., `DEBUG: LG package temp JSON resolution=` added to WebOS), and the explicit removal of temporary directories (`fs.rmdirSync(tmpDirRes)` and `fs.rmdirSync(tmpDir)`) after `removeDirRecursive`. The version (`pkgVersion`) was also added to the `appinfo.json` modification for WebOS packages. The logic for renaming WebOS packages was refactored: instead of renaming within the loop, all generated packages are collected, and then iterated to find and rename based on the resolution suffix.
    *   **Introduction of interactive Tizen profile selection (14/1/2026, 13:13:19 to 14/1/2026, 13:20:38):** The `readline` module (Node.js built-in) was imported, replacing the previous `readlineSync`. A new function `chooseTizenProfile(callback)` was added to list available Tizen security profiles using `tizen security-profiles list` and prompt the user for selection. This selection is then used to construct the `tizen package --sign` command. The parsing of the `tizen security-profiles list` output was improved to correctly extract only the profile names.
    *   **Tizen `config.xml` version update (14/1/2026, 13:51:14 to 14/1/2026, 14:02:48):** For Tizen packages, the script now dynamically updates the `version` attribute in the `config.xml` file within the temporary directory before packaging. A regex was introduced to replace the `version="[^"]+"` attribute. An additional `if (fs.existsSync(tmpDirRes)) fs.rmdirSync(tmpDirRes);` was added in the WebOS cleanup.
    *   **Version prompting and refactoring (17/1/2026, 10:19:34 to 17/1/2026, 10:57:03):**
        *   The script was significantly refactored to first prompt the user for a "binary version" (semver X.X.X) using `askBinaryVersion` or take it from CLI arguments (`--binVersion`). This version now replaces the `pkgVersion` from `package.json` for package naming and app manifest updates.
        *   A `isValidSemver` function was added for version validation.
        *   The `promptBinaryVersion` function (previously `askBinaryVersion`) was modified to remove the default version parameter.
        *   The hardcoded "App3Cat" fallback in `readAppName` was changed to "3cat".
        *   The template directory path was changed from `App3Cat_${env}` to `3cat_${env}`.
        *   The `platformTag` and `envTag` variables were introduced and converted to lowercase for consistent file naming (e.g., `AppName_webos_YYYYMMDD_vX.X.X_dev_720.ipk`).
        *   The `chooseTizenProfile` function was adjusted to pass the profile name to the `runPackage` callback.
        *   Minor console log improvements and cleanup were made.

2.  **`c:\Users\Usuario\Documents\Trabajo\MEDIAPRO\3cat_smarttv\src\components\mediaInfo\infoGroup\index.jsx` (14/1/2026, 14:17:53 and 14/1/2026, 16:02:00):**
    *   These changes appear to be identical or nearly identical in the provided snippets. The primary modifications revolve around display logic for media information in a React component:
        *   Commented out `JIRA CCMA-2104: Eliminamos funcionalidad 'A partir del'` indicating the removal of a "Publication" component and related logic that displayed `licensed_on` dates.
        *   Adjusted the `renderSeasonOrEpisodeCount` function and related `useMemo` hooks for `showTags` and `showDuration`.
        *   The `dotSeparatedItems` array was updated to remove `showPublication`.
        *   A conditional style `filter: item.collection === 'link' ? 'invert(100%)' : 'none'` for `imgLogo` was commented out.

3.  **`c:\Users\Usuario\Documents\Trabajo\MEDIAPRO\3cat_smarttv\src\components\rows\genericRow\styles.scss` (14/1/2026, 16:13:54):**
    *   Minor style adjustments for row types:
        *   `rowType_LANDSCAPE, &.rowType_LIVE_TV` now includes `&.externalRow { height: 338px; }`.
        *   Increased `width` for `.generic_row` from `1920px` to `3000px` (though commented out for some `_width` properties).
        *   Added/modified `margin-bottom` for `.item-show-all`.

4.  **`c:\Users\Usuario\Documents\Trabajo\MEDIAPRO\3cat_smarttv\build_templates\README.md` (17/1/2026, 10:34:38 and 17/1/2026, 10:37:02 and 17/1/2026, 11:11:00):**
    *   **10:34:38:** The folder structure for WebOS templates was changed from `App3Cat_DEV/` to `3cat_dev/`.
    *   **10:37:02:** Updated the "Expected build outputs" section to reflect the new naming convention including `vX.X.X` (binary version) and suffixes for WebOS resolutions (e.g., `AppName_webos_YYYYMMDD_vX.X.X_dev_720.ipk`).
    *   **11:11:00:** Reflected the template directory name change for WebOS from `App3Cat_DEV/` to `3cat_dev/` in the "Folder structure" section.

5.  **`c:\Users\Usuario\Documents\Trabajo\MEDIAPRO\3cat_smarttv\build_templates\tizen\README.md` (17/1/2026, 10:37:46):**
    *   No significant changes in the provided content; it outlines basic Tizen build, device listing, and installation commands.

6.  **Tizen `gateway\js\app.js` files (`tizen\3cat_dev`, `tizen\3cat_pre`) (17/1/2026, 10:45:06 and 17/1/2026, 10:45:19):**
    *   Updated the `REMOTE` URL for the Tizen environments from `smartv-dev.3cat.website` to `smartv-pre.3cat.website` in the `3cat_pre` version. The logic for Tizen platform version 3.0 also references the same respective URLs.

7.  **Tizen `config.xml` files (`tizen\3cat_dev`, `tizen\3cat_pre`) (17/1/2026, 11:02:30 and 17/1/2026, 11:03:00):**
    *   The `version` attribute in the `<widget>` tag was updated to `3.4.6` for both `3cat_dev` and `3cat_pre` configurations.

8.  **Tizen `.project` files (`tizen\3cat_dev`, `tizen\3cat_pre`) (17/1/2026, 11:16:08 to 17/1/2026, 11:20:59):**
    *   The `<name>` element within the `<projectDescription>` tag was changed to match the environment (e.g., `3catdev` to `3catDev`, `3cat_pre` to `3catPre`, then unified to `3cat_dev` and `3cat_pre` respectively). This seems to be a consistent renaming effort.

9.  **WebOS `.project` files (`webos\3cat_dev`, `webos\3cat_pre`) (17/1/2026, 11:20:30 and 17/1/2026, 11:34:16):**
    *   The `<name>` element within the `<projectDescription>` tag was updated (e.g., `3cat_dev`).

10. **WebOS `appinfo.json` files (`webos\3cat_dev`, `webos\3cat_pre`) (17/1/2026, 11:34:24 to 17/1/2026, 11:35:29):**
    *   Initially, `id` was `cat.3cat.webos`. This was changed to `com.mediapro.3cat` for both `3cat_dev` and `3cat_pre`. The `title` was also adjusted to reflect the environment (e.g., "3Cat_pre").

11. **WebOS `gateway\js\app.js` files (`webos\3cat_dev`, `webos\3cat_pre`) (17/1/2026, 11:21:52 and 17/1/2026, 11:36:57 and 17/1/2026, 11:43:23):**
    *   The `REMOTE` URL was updated for the `3cat_pre` template to point to `https://smartv-pre.3cat.website/index.html`.
    *   A query parameter `?pr=true` was added to the `REMOTE` URL when launching the web app, specifically for the `3cat_pre` template.

12. **`c:\Users\Usuario\Documents\Trabajo\MEDIAPRO\3cat_smarttv\src\utils\platformUtils.js` (17/1/2026, 12:23:41 to 17/1/2026, 12:43:11):**
    *   **12:23:41:** Removed the "hisense" platform from the `getPlatform` function. The `platformOverride` parameter was used directly in `InitApp` but the logic for checking `qsPlatform` within `getPlatform` was not present here.
    *   **12:31:11:** Fixed a typo in `getPlatform` (`Web0S` to `WebOS`) for WebOS detection.
    *   **12:31:32:** Removed "hisense" from the comment "Platform strings".
    *   **12:32:29:** Added `platformOverride` parameter to `getPlatform` and implemented logic to use it if provided, logging `[Platform] Using platform from query string`.
    *   **12:33:58:** Removed "hisense" from the `switch` statement in `getOSVersion`.
    *   **12:43:11:** The `getPlatform` function was refactored to explicitly read `qsPlatform` from `window.location.search` internally, removing the `platformOverride` argument from the function signature itself. This ensures the platform can always be overridden via query string without relying on an external caller providing it.

13. **`c:\Users\Usuario\Documents\Trabajo\MEDIAPRO\3cat_smarttv\src\App.jsx` (17/1/2026, 12:27:06 to 17/1/2026, 12:43:32):**
    *   **12:27:06:** The `InitApp` function was modified to accept an optional `platformOverride` parameter, which was then passed to `Platform.getPlatform`.
    *   **12:27:35 and 12:27:45:** The `platformOverride` parameter was removed from `InitApp` as the platform detection logic in `Platform.getPlatform` was being updated to handle it internally.
    *   **12:28:11 and 12:43:32:** The `platformOverride` parameter was reinstated in `InitApp` and passed to `Platform.getPlatform`, indicating a back-and-forth on how platform override is handled.
    *   The `Platform.getPlatform()` call was adjusted to not take `qsPlatform` as an argument directly anymore, as `platformUtils.js` was updated to read it internally.

14. **`c:\Users\Usuario\Documents\Trabajo\MEDIAPRO\3cat_smarttv\src\platform\platform.js` (17/1/2026, 12:37:07):**
    *   The `Platform.getPlatform` was updated to directly reference `window.PlatformUtils.getPlatform`.
    *   The `launchApp` function's `webos` case was updated to also check for `web0s` (likely a typo fix).

15. **`c:\Users\Usuario\Documents\Trabajo\MEDIAPRO\3cat_smarttv\src\platform\generic.js` (17/1/2026, 12:57:09 and 17/1/2026, 12:59:31):**
    *   Modified the `onKeyDownHandler` function to update the key codes for "Back key" handling:
        *   `0x1cd` (TIVO) was added.
        *   `0xa6` (VK_ESCAPE) was changed to `166`.
        *   `0x1b` (VK_BACK_SPACE) was changed to `27`.
        *   `10182` (Samsung EXIT) was commented out.
        *   Another `461` was added, possibly a duplicate or a new key code for TIVO/WebOS.

### Patterns and Recurring Elements:

*   **Smart TV Platform Targeting:** The most significant pattern is the continuous development and refinement of logic for building and deploying applications for **WebOS (LG)** and **Tizen (Samsung)** Smart TV platforms. This includes platform-specific commands (`ares-package`, `tizen package`), file modifications (`appinfo.json`, `config.xml`), and environment-specific configurations (`DEV`, `PRE`, `PRO`).
*   **Version Management:** There's a strong focus on dynamically managing the application's version. Initially, it used `pkg.version` from `package.json`, then evolved to prompt the user for a "binary version" (semver X.X.X) or accept it via CLI arguments, which is then injected into platform-specific manifest files (`appinfo.json` for WebOS, `config.xml` for Tizen).
*   **Resolution Handling:** For WebOS, the build process explicitly generates two packages for different resolutions (720p and 1080p), adapting the `appinfo.json` accordingly.
*   **Temporary Directories & Cleanup:** The build scripts consistently use temporary directories (`tmp_webos_`, `tmp_tizen_`) for packaging to avoid polluting the original template directories. These temporary directories are then recursively removed.
*   **File Naming Conventions:** A clear and evolving pattern for naming the output packages is evident: `appName_PLATFORM_YYYYMMDD_vVERSION_ENV.ext`, with resolution suffixes for WebOS.
*   **CLI Argument Parsing:** A `parseArgs` utility function is consistently used across all versions of `package-launcher-apps.cjs` to process command-line arguments.
*   **Date Formatting:** A `getTodayYYYYMMDD` utility function is consistently used for date strings in package names.
*   **Code Organization and Utility Functions:** The `package-launcher-apps.cjs` file uses several well-defined utility functions (`pad2`, `readAppName`, `ensureDir`, `listPackages`, `pickNewOrLatest`, `copyRecursive`, `removeDirRecursive`) to manage file system operations and app metadata.
*   **React Component Logic:** In `infoGroup\index.jsx`, recurring elements include memoization (`useMemo`), conditional rendering based on item properties (`is_episode`, `collection`, `type`), and the handling of `LIVE_REFRESH_INTERVAL` from settings. The removal of `Publication` functionality points to a recurring pattern of feature refinement based on JIRA tickets (CCMA-2104).
*   **Platform Utility Consolidation:** The `src\utils\platformUtils.js` file is central to platform detection, resolution configuration, and OS version retrieval, showing consistent updates to accurately identify and configure for different Smart TV environments, including the dynamic override via query parameters.
*   **Keyboard Navigation (Input Handling):** `src\platform\generic.js` shows a consistent pattern of handling keyboard events (`keydown`) for navigation (`up`, `down`, `left`, `right`) and critical actions like "Back" or "Exit", with specific key codes mapped for different TV platforms (PC, Tizen, WebOS, TIVO).

### Timestamps of Significant Changes:

*   **14/1/2026, 12:31:38:** Introduction of multi-resolution WebOS packaging and initial Tizen PRO certificate prompt.
*   **14/1/2026, 12:39:35:** Simplification of Tizen PRO certificate handling (delegating prompt to Tizen CLI).
*   **14/1/2026, 12:54:31:** Refactoring of WebOS package renaming logic to happen after all packages are generated.
*   **14/1/2026, 13:13:19:** Introduction of interactive Tizen security profile selection using `readline`.
*   **14/1/2026, 13:51:14:** Dynamic update of `config.xml` version for Tizen packages.
*   **17/1/2026, 10:19:34:** Major refactoring to introduce a `binVersion` prompt, validation, and usage across all package manifests and file names, and general cleanup.
*   **17/1/2026, 10:33:55:** `readAppName` fallback changed to "3cat", and template directory name convention changed from `App3Cat_${env}` to `3cat_${env}`.
*   **17/1/2026, 11:35:20:** WebOS `appinfo.json` `id` changed from `cat.3cat.webos` to `com.mediapro.3cat`.
*   **17/1/2026, 11:43:23:** Addition of `?pr=true` query parameter for WebOS pre-environment URL.
*   **17/1/2026, 12:32:29 & 12:43:11:** Refinement of `platformUtils.js` to correctly handle platform overrides from query strings.
*   **17/1/2026, 12:59:31:** Updates to key codes for global keyboard navigation in `src\platform\generic.js`.

## 10:19:15
The provided log details changes across multiple files, primarily focusing on a Node.js packaging script (`package-launcher-apps.cjs`) and related application configuration files, as well as some React/JavaScript UI components.

### File-Specific Updates:

1.  **`c:\Users\Usuario\Documents\Trabajo\MEDIAPRO\3cat_smarttv\package-launcher-apps.cjs` (Multiple Timestamps: 14/1/2026, 12:28:33 - 17/1/2026, 10:57:03)**
    *   **Initial Version (14/1/2026, 12:28:33):** This script is a Node.js utility for packaging remote applications for WebOS (.ipk) and Tizen (.wgt) platforms. It parses CLI arguments for platform and environment (`DEV`, `PRE`, `PRO`), reads app name from `package.json`, generates a date string, and resolves template directories. It includes functions for directory manipulation (`ensureDir`, `copyRecursive`, `removeDirRecursive`), package listing (`listPackages`), and picking the newest package (`pickNewOrLatest`). It executes platform-specific commands (`ares-package` for WebOS, `tizen package` for Tizen) and renames the generated output file to a standard format (`appName_PLATFORM_YYYYMMDD_vVERSION_ENV.ext`).
    *   **14/1/2026, 12:31:38:** Introduces `readlineSync` for Tizen PRO environments to prompt for a certificate/profile name during packaging. It also starts to introduce platform-specific logic for WebOS (LG multi-resolution packaging) and Tizen.
    *   **14/1/2026, 12:36:07:** Refines the WebOS (LG multi-resolution) packaging logic by creating temporary directories for each resolution (`_720`, `_1080`), modifying `appinfo.json` within these temporary directories to set `screenWidth` and `screenHeight`, then packaging them. The renaming logic for WebOS packages is moved inside the loop, and the Tizen signing logic is updated to use the prompted certificate name.
    *   **14/1/2026, 12:39:35 - 14/1/2026, 13:03:53:** These subsequent changes (within a short span) seem to refine the WebOS multi-resolution packaging.
        *   The prompt for Tizen PRO environment is changed from `readlineSync.question` to a console log `❗ PRO environment: Tizen CLI will prompt for the certificate if multiple exist.`. This removes the `readlineSync` dependency.
        *   The WebOS `appinfo.json` modification changes `screenWidth` and `screenHeight` to a single `resolution` field.
        *   The package version is now explicitly set in `appinfo.json` for WebOS packages.
        *   A `DEBUG` log is added to show the updated `resolution` and `version` in the temporary `appinfo.json`.
        *   The logic for cleaning up temporary directories and renaming generated packages is further refined, especially for WebOS where multiple resolution packages are produced. The `pickNewOrLatest` logic is adapted to find specific resolution packages.
    *   **14/1/2026, 13:13:19 - 14/1/2026, 13:20:38:** Re-introduces `readline`, but now for a more sophisticated `chooseTizenProfile` function. This function lists available Tizen security profiles by executing `tizen security-profiles list` and prompts the user to select one, then uses the selected profile name for signing the Tizen PRO package via the `--sign` option. It also refines parsing of `tizen security-profiles list` output to extract just the profile name.
    *   **17/1/2026, 10:19:34:** Introduces a new feature to ask for a "binary version" (semver X.X.X) for both WebOS and Tizen packages. This version is either provided via a `--binVersion` CLI argument or prompted interactively. The `appinfo.json` (WebOS) and `config.xml` (Tizen) files are modified to inject this `binVersion`. The package naming convention now explicitly includes `vX.X.X`. The `pkgVersion` from `package.json` is replaced by `binVersion` for generated file names.
    *   **17/1/2026, 10:25:41:** The logic for prompting binary version is encapsulated into a `promptBinaryVersion` function, making it cleaner. The `binVersion` is no longer sourced from `package.json` directly but explicitly from the prompt/CLI arg.
    *   **17/1/2026, 10:33:55:** The default fallback app name in `readAppName` is changed from `'App3Cat'` to `'3cat'`. The template directory path for Tizen is updated from `App3Cat_${env}` to `3cat_${env}`.
    *   **17/1/2026, 10:56:17:** Introduces `platformTag` and `envTag` variables for generated filenames, converting them to lowercase for consistency with the new `build_templates` naming.
    *   **17/1/2026, 10:57:03:** Minor reformatting in the Tizen packaging command construction.

2.  **`c:\Users\Usuario\Documents\Trabajo\MEDIAPRO\3cat_smarttv\src\components\mediaInfo\infoGroup\index.jsx` (14/1/2026, 14:17:53 - 14/1/2026, 16:02:00)**
    *   These two timestamps show no functional changes in the provided code snippet. The content is identical, suggesting a save operation without modification or a reformatting that didn't alter the provided excerpt.

3.  **`c:\Users\Usuario\Documents\Trabajo\MEDIAPRO\3cat_smarttv\src\components\rows\genericRow\styles.scss` (14/1/2026, 16:13:54)**
    *   This file defines SCSS styles for various row types (`.generic_row`) in the application's UI, including `.rowType_HERO`, `.rowType_BANNER`, `.rowType_LANDSCAPE`, `.rowType_USER_ROW`, `.rowType_SQUARE`, `.rowType_LIVE_TV`, `.rowType_PORTRAIT`, `.rowType_PORTRAIT_MINI`, `.rowType_LANDSCAPE_MINI`, `.rowType_INLINE`, `.rowType_FEATURED`, and `.rowType_LAST_DAYS`.
    *   It also defines styles for an `.item-show-all` component, including hover and focused states, and specific sizing for `LANDSCAPE`, `PORTRAIT`, `PORTRAIT_MINI`, `SQUARE`, and `SQUARE_MINI` variants.
    *   No specific changes between logs were provided for this file, only a single state at the given timestamp.

4.  **`c:\Users\Usuario\Documents\Trabajo\MEDIAPRO\3cat_smarttv\build_templates\README.md` (17/1/2026, 10:34:38 - 17/1/2026, 11:11:00)**
    *   **17/1/2026, 10:34:38:** Documents the purpose of the `build_templates` folder, its structure for Tizen and WebOS environments (`App3Cat_DEV`, etc.), and the expected output format for "Launcher Apps."
    *   **17/1/2026, 10:37:02:** Updates the "Expected build outputs" section for "Launcher Apps" to include the version number (e.g., `vX.X.X`) and resolution suffixes (`_720`, `_1080`) in the filenames for WebOS packages, and clarifies the use of lowercase for platform and environment tags in filenames.
    *   **17/1/2026, 11:11:00:** Updates the "Folder structure" section to reflect a change in WebOS template naming from `App3Cat_DEV/PRE/PRO` to `3cat_dev/pre/pro`, aligning it with the Tizen template naming.

5.  **`c:\Users\Usuario\Documents\Trabajo\MEDIAPRO\3cat_smarttv\build_templates\tizen\README.md` (17/1/2026, 10:37:46)**
    *   This file provides basic commands for Tizen package management: `tizen package` (for packaging with signing and output options), `sdb devices` (to list devices), and `tizen install` (to install packages on a device).
    *   No changes between logs were provided for this file.

6.  **`c:\Users\Usuario\Documents\Trabajo\MEDIAPRO\3cat_smarttv\build_templates\tizen\3cat_dev\gateway\js\app.js` (17/1/2026, 10:45:06)**
    *   This JavaScript file for Tizen `DEV` environment sets a `REMOTE` URL to `https://smartv-dev.3cat.website/index.html`. It checks network connectivity, and if available, redirects to this URL. Otherwise, it shows an alert and registers network state change listeners.
    *   No changes between logs were provided for this file.

7.  **`c:\Users\Usuario\Documents\Trabajo\MEDIAPRO\3cat_smarttv\build_templates\tizen\3cat_pre\gateway\js\app.js` (17/1/2026, 10:45:19)**
    *   Similar to the `_dev` version, but sets the `REMOTE` URL to `https://smartv-pre.3cat.website/index.html` for the `PRE` environment.
    *   No changes between logs were provided for this file.

8.  **`c:\Users\Usuario\Documents\Trabajo\MEDIAPRO\3cat_smarttv\build_templates\tizen\3cat_dev\config.xml` (17/1/2026, 11:02:30)**
    *   An XML configuration file for the Tizen `DEV` app, detailing widget ID, version (`3.4.6`), access origins, application ID (`i40jdPIQJb.3Cat`), content source, features, metadata (including `devel.api.version` and `search.format`), app name (`3Cat`), privileges, and Tizen profile/settings.
    *   No changes between logs were provided for this file.

9.  **`c:\Users\Usuario\Documents\Trabajo\MEDIAPRO\3cat_smarttv\build_templates\tizen\3cat_pre\config.xml` (17/1/2026, 11:03:00)**
    *   Similar to the `_dev` version, but with a different application ID (`PMVOmA9N8K.3Cat`).
    *   No changes between logs were provided for this file.

10. **`c:\Users\Usuario\Documents\Trabajo\MEDIAPRO\3cat_smarttv\build_templates\tizen\3cat_dev\.project` (17/1/2026, 11:16:08 - 17/1/2026, 11:16:32)**
    *   These are Tizen project configuration files.
    *   **17/1/2026, 11:16:08:** Sets project name to `3catdev`.
    *   **17/1/2026, 11:16:17:** Sets project name to `3cat_pre`.
    *   **17/1/2026, 11:16:26:** Changes project name from `3cat_pre` to `3catPre`.
    *   **17/1/2026, 11:16:32:** Changes project name from `3catdev` to `3catDev`.
    *   **17/1/2026, 11:20:39:** Sets project name to `3cat_dev`. (Reverts previous change or sets consistently)

11. **`c:\Users\Usuario\Documents\Trabajo\MEDIAPRO\3cat_smarttv\build_templates\tizen\3cat_pre\.project` (17/1/2026, 11:20:59)**
    *   Sets project name to `3cat_pre`. (Reverts previous change or sets consistently)

12. **`c:\Users\Usuario\Documents\Trabajo\MEDIAPRO\3cat_smarttv\build_templates\webos\3cat_dev\.project` (17/1/2026, 11:20:30)**
    *   WebOS project configuration file. Sets project name to `3cat_dev`. Defines build commands and natures for WebOS development.
    *   No changes between logs were provided for this file.

13. **`c:\Users\Usuario\Documents\Trabajo\MEDIAPRO\3cat_smarttv\build_templates\webos\3cat_dev\gateway\js\app.js` (17/1/2026, 11:21:52)**
    *   This JS file for WebOS `DEV` environment defines logic for checking network connectivity using WebOS services and redirecting to `https://smartv-dev.3cat.website/index.html`. It also handles back key presses. It includes logic to adapt connection manager service based on SDK version and sets `REMOTE` URL.
    *   No changes between logs were provided for this file.

14. **`c:\Users\Usuario\Documents\Trabajo\MEDIAPRO\3cat_smarttv\build_templates\webos\3cat_pre\.project` (17/1/2026, 11:34:16)**
    *   WebOS project configuration file. Sets project name to `3cat_pre`.
    *   No changes between logs were provided for this file.

15. **`c:\Users\Usuario\Documents\Trabajo\MEDIAPRO\3cat_smarttv\build_templates\webos\3cat_pre\appinfo.json` (17/1/2026, 11:34:24 - 17/1/2026, 11:35:20)**
    *   **17/1/2026, 11:34:24:** App info for WebOS `PRE` environment. Sets `title` to `3Cat_pre`, `version` to `2.4.3`, and `id` to `cat.3cat.webos`.
    *   **17/1/2026, 11:35:20:** Changes the `id` from `cat.3cat.webos` to `com.mediapro.3cat`.

16. **`c:\Users\Usuario\Documents\Trabajo\MEDIAPRO\3cat_smarttv\build_templates\webos\3cat_dev\appinfo.json` (17/1/2026, 11:34:33 - 17/1/2026, 11:35:29)**
    *   **17/1/2026, 11:34:33:** App info for WebOS `DEV` environment. Sets `title` to `3Cat_dev`, `version` to `2.4.3`, and `id` to `cat.3cat.webos`.
    *   **17/1/2026, 11:35:29:** Changes the `id` from `cat.3cat.webos` to `com.mediapro.3cat`.

17. **`c:\Users\Usuario\Documents\Trabajo\MEDIAPRO\3cat_smarttv\build_templates\webos\3cat_pre\gateway\js\app.js` (17/1/2026, 11:36:57 - 17/1/2026, 11:43:23)**
    *   **17/1/2026, 11:36:57:** This JS file for WebOS `PRE` environment defines similar network connectivity and redirection logic as the `DEV` version, but uses `https://smartv-pre.3cat.website/index.html` as the `REMOTE` URL.
    *   **17/1/2026, 11:43:23:** Adds a `query = '?pr=true'` parameter to the `REMOTE` URL for the `PRE` environment.

18. **`c:\Users\Usuario\Documents\Trabajo\MEDIAPRO\3cat_smarttv\src\utils\platformUtils.js` (17/1/2026, 12:23:41 - 17/1/2026, 12:43:11)**
    *   This utility defines global platform-related functions and variables (`window.AppGlobal`, `window.PlatformUtils`). It determines the platform (browser, Tizen, WebOS, Hisense, LG NetCast, HbbTV) based on the User Agent. It also configures platform-specific screen resolutions and sets a scaling factor. It includes logic to dynamically inject `webOSTV.js` for WebOS.
    *   **17/1/2026, 12:31:11:** The `getPlatform` function is updated to accept an optional `platformOverride` parameter, which if provided, directly returns that platform. The WebOS User Agent check is broadened to include "WebOS" in addition to "Web0S".
    *   **17/1/2026, 12:31:32:** The "Hisense" platform check is removed from `getPlatform`, implicitly no longer supported as a distinct platform by this utility.
    *   **17/1/2026, 12:32:29:** The `platformOverride` parameter in `getPlatform` is enhanced to explicitly log when a platform is being used from the query string.
    *   **17/1/2026, 12:33:58:** The "Hisense" platform case is removed from `getOSVersion` function's switch statement, aligning with its removal from `getPlatform`.
    *   **17/1/2026, 12:43:11:** The `getPlatform` function is refactored to read the `platform` override from the URL query string using `URLSearchParams` directly inside the function, removing the `platformOverride` parameter from `InitApp` in `App.jsx`.

19. **`c:\Users\Usuario\Documents\Trabajo\MEDIAPRO\3cat_smarttv\src\App.jsx` (17/1/2026, 12:27:06 - 17/1/2026, 12:43:32)**
    *   This is the main React application file, setting up routing, contexts (Auth, Broadcast, History, Sitecatalyst, Capabilities, Options, Didomi, ParentalControl, Settings, Texts, Highlight, Virtualization), and core application logic. It initializes a development console, handles exit/logout modals, and redirects based on platform.
    *   **17/1/2026, 12:27:06:** The `InitApp` function is updated to accept a `platformOverride` parameter, which is passed to `Platform.getPlatform`.
    *   **17/1/2026, 12:27:35:** The `InitApp` function is reverted to not take any parameters.
    *   **17/1/2026, 12:27:45:** The `InitApp` function is updated to again accept `platformOverride`.
    *   **17/1/2026, 12:28:11:** The `InitApp` function is updated again to remove the `platformOverride` parameter.
    *   **17/1/2026, 12:43:32:** The `qsPlatform` variable is removed from `App` component's scope and the `InitApp` function is called without arguments, as `Platform.getPlatform` now directly reads it from the query string.

20. **`c:\Users\Usuario\Documents\Trabajo\MEDIAPRO\3cat_smarttv\src\platform\platform.js` (17/1/2026, 12:37:07)**
    *   This file defines the `Platform` object responsible for initializing platform-specific devices (Tizen, WebOS, HbbTV, Browser), handling keyboard initialization, and launching other applications.
    *   The `launchApp` function now explicitly handles `web0s` in addition to `webos` for consistency.
    *   `Platform.getPlatform` is directly assigned `window.PlatformUtils.getPlatform`.
    *   No specific changes between logs were provided for this file.

21. **`c:\Users\Usuario\Documents\Trabajo\MEDIAPRO\3cat_smarttv\src\platform\generic.js` (17/1/2026, 12:57:09 - 17/1/2026, 12:59:31)**
    *   This file contains `IinitKeyboardNavigation_SmartTV` for handling keyboard events on Smart TVs. It defines actions for arrow keys (up, down, left, right), Enter key (simulating click), and various "Back" or "Exit" keys for different platforms (PC browser, Samsung Tizen, LG WebOS, Hisense, TIVO). It dispatches custom navigation events.
    *   **17/1/2026, 12:59:31:** The key codes for "Back" / "Exit" are updated: `0x1cd` (TIVO) is changed to `461` (matching LG WebOS), and `0xa6` (VK_ESCAPE) and `0x1b` (VK_BACK_SPACE) are updated to `166` and `27` respectively. A commented-out `10182` (Samsung EXIT key) is added.

### Patterns and Recurring Elements:

*   **Smart TV Development Focus:** The vast majority of changes revolve around developing and packaging applications for Smart TV platforms, specifically WebOS (LG) and Tizen (Samsung).
*   **Packaging Script Evolution:** The `package-launcher-apps.cjs` script is a central piece, undergoing continuous refinement.
    *   **CLI Argument Parsing:** Consistent parsing of `--platform` and `--env`.
    *   **Directory Management:** Repeated use of `ensureDir`, `copyRecursive`, `removeDirRecursive` for temporary build directories and output.
    *   **Package Naming Convention:** A clear and evolving standard for output package names, including app name, platform, date, version, environment, and resolution suffix.
    *   **Platform-Specific Logic:** Increasing segmentation of logic for WebOS and Tizen. WebOS specifically handles multiple resolutions by modifying `appinfo.json`.
    *   **Version Management:** Transition from using `package.json` version to a user-prompted/CLI-specified "binary version" (semver).
    *   **Tizen Signing:** Introduction and refinement of user interaction for selecting Tizen security profiles for PRO builds.
*   **Configuration and Templates:** Dedicated `build_templates` folders are used as blueprints, with configuration files like `appinfo.json` (WebOS) and `config.xml` (Tizen) being dynamically modified during the packaging process to inject version and resolution details.
*   **Platform Detection and Initialization:** `platformUtils.js` and `platform.js` are critical for determining the runtime environment (WebOS, Tizen, HbbTV, browser, etc.) and initializing platform-specific APIs and keyboard handlers.
*   **Debugging/Logging:** Frequent use of `console.log` and `ajsrConsole.log` for debugging and tracing execution flow, especially in platform initialization and build processes.
*   **Version Control for App Metadata:** The process of injecting `version` and `resolution` into platform-specific manifest files (`appinfo.json`, `config.xml`) is a recurring theme.
*   **User Interface (React Components):** The `InfoGroup.jsx` component deals with displaying media information, including episode/season counts, expiration dates, and external content details. `genericRow.scss` manages the layout and styling of rows in the UI.
*   **Keyboard Navigation:** `src\platform\generic.js` shows a robust, centralized keyboard navigation handler for Smart TVs, accounting for various key codes across different TV OS.

## 11:20:09
This log details significant development in a Smart TV application, primarily focusing on its build, packaging, and platform-specific configurations, alongside updates to frontend components and core platform utilities.

**File-Specific Updates:**

*   **`c:\Users\Usuario\Documents\Trabajo\MEDIAPRO\3cat_smarttv\package-launcher-apps.cjs` (timestamps from 14/1/2026, 12:28:33 to 17/1/2026, 10:57:03)**:
    *   **Initial Script (14/1/2026, 12:28:33)**: Started as a Node.js script to package launcher applications for `webOS` (using `ares-package`) and `Tizen` (using `tizen package`), handling CLI arguments for platform and environment, reading `package.json` for app name, and basic file operations.
    *   **Multi-Resolution & Tizen Signing (14/1/2026, 12:31:38 - 12:36:07)**: Introduced multi-resolution packaging for `webOS` (720p and 1080p), where it copies templates, modifies `appinfo.json` (setting `screenWidth`/`screenHeight`), packages, and renames. For `Tizen`, it added interactive prompting for a certificate/profile name using `readlineSync` for `PRO` environment signing.
    *   **Simplified Tizen Signing (14/1/2026, 12:39:35)**: Temporarily removed the `readlineSync` dependency and interactive certificate prompt for Tizen, allowing the Tizen CLI to handle profile selection for `PRO` builds.
    *   **WebOS `appinfo.json` Update (14/1/2026, 12:48:19)**: Changed `webOS` `appinfo.json` modification from setting `screenWidth`/`screenHeight` to setting `appinfo.resolution` to `WIDTHxHEIGHT` format.
    *   **Packaging Logic Refinement (14/1/2026, 12:54:31 - 13:03:53)**: Significantly refactored the `webOS` packaging process, moving the package renaming logic outside the resolution loop to process all generated packages collectively. It also began including `pkgVersion` in the `appinfo.json` for `webOS` builds.
    *   **Reintroduced Interactive Tizen Signing (14/1/2026, 13:13:19 - 13:20:38)**: Brought back interactive Tizen profile selection, but with the more robust `readline` module, creating a dedicated `chooseTizenProfile` function to list available profiles and prompt the user.
    *   **Tizen `config.xml` Versioning (14/1/2026, 13:51:14 - 13:56:41)**: Added logic to dynamically update the `version` attribute within the `<widget>` tag in `config.xml` for `Tizen` packages, using a more specific regex for safety.
    *   **Binary Versioning & Cleanup (17/1/2026, 10:19:34 - 10:25:41)**: Introduced a more sophisticated binary versioning system (`binVersion`) that either accepts a CLI argument (`--binVersion`) or prompts the user, including semantic versioning (X.X.X) validation. This `binVersion` is then used to update `appinfo.json` (webOS) and `config.xml` (Tizen) and in the final package filenames.
    *   **App Name & Template Path Standardization (17/1/2026, 10:33:55)**: Standardized the fallback app name to `'3cat'` and updated template directory paths from `App3Cat_ENV` to `3cat_ENV`.
    *   **Filename Case Consistency (17/1/2026, 10:56:17)**: Modified the final package filenames to use lowercase platform and environment tags (e.g., `webos` instead of `WEBOS`, `dev` instead of `DEV`) for better consistency.

*   **`c:\Users\Usuario\Documents\Trabajo\MEDIAPRO\3cat_smarttv\src\components\mediaInfo\infoGroup\index.jsx` (14/1/2026, 14:17:53 - 16:02:00)**:
    *   **Initial Component & External Emission (14/1/2026, 14:17:53)**: Introduced a React component (`InfoGroup`) responsible for displaying detailed media information. This version includes logic to hide "A partir del" (Available from) functionality (JIRA CCMA-2104) and added support for external content emissions using a `useExternalEmission` hook, rendering appropriate tags (`live` or `white`). It also includes complex conditional logic for displaying various media details like titles, descriptions, age ratings, and duration based on item properties (e.g., `is_live`, `upcoming_event`). `EpisodeCount` component now restricts display based on `LIVE_REFRESH_INTERVAL`.

*   **`c:\Users\Usuario\Documents\Trabajo\MEDIAPRO\3cat_smarttv\src\components\rows\genericRow\styles.scss` (14/1/2026, 16:13:54)**:
    *   **New Styling File**: Added comprehensive SCSS styling for generic row components, including `row-title` and `item-show-all` elements. It defines specific height adjustments for `externalRow` within `LANDSCAPE` and `LIVE_TV` types, and customizes the "show all" button appearance for different row layouts (e.g., `LANDSCAPE`, `PORTRAIT`, `SQUARE`).

*   **`c:\Users\Usuario\Documents\Trabajo\MEDIAPRO\3cat_smarttv\build_templates\README.md` (17/1/2026, 10:34:38 - 11:11:00)**:
    *   **Template Documentation (17/1/2026, 10:34:38)**: Added a README explaining the structure and purpose of the build templates for 3CAT Smart TV Apps, differentiating launcher and future embedded apps.
    *   **Output Filename & Folder Structure Updates (17/1/2026, 10:37:02 - 11:11:00)**: Updated the expected output filenames to reflect the new versioning scheme and resolution suffixes (for webOS). Also updated the `webos` folder structure example to `3cat_dev`, `3cat_pre`, `3cat_pro`.

*   **`c:\Users\Usuario\Documents\Trabajo\MEDIAPRO\3cat_smarttv\build_templates\tizen\README.md` (17/1/2026, 10:37:46)**:
    *   **Tizen Build Instructions**: Added Tizen-specific commands for packaging, listing devices, and installing apps.

*   **`c:\Users\Usuario\Documents\Trabajo\MEDIAPRO\3cat_smarttv\build_templates\tizen\3cat_dev\gateway\js\app.js` (17/1/2026, 10:45:06)**:
    *   **Tizen Dev Gateway App**: Introduced a JavaScript file for the Tizen `DEV` gateway application. It redirects to `https://smartv-dev.3cat.website/index.html` if the network is available, otherwise displays an alert and waits for connectivity, also registering the "Exit" key.

*   **`c:\Users\Usuario\Documents\Trabajo\MEDIAPRO\3cat_smarttv\build_templates\tizen\3cat_pre\gateway\js\app.js` (17/1/2026, 10:45:19)**:
    *   **Tizen Pre Gateway App**: Similar to the `DEV` version but targets `https://smartv-pre.3cat.website/index.html`.

*   **`c:\Users\Usuario\Documents\Trabajo\MEDIAPRO\3cat_smarttv\build_templates\tizen\3cat_dev\config.xml` (17/1/2026, 11:02:30)**:
    *   **Tizen Dev Config**: Added a `config.xml` for Tizen `DEV`, defining widget properties, application ID, content, features, metadata, privileges, and settings.

*   **`c:\Users\Usuario\Documents\Trabajo\MEDIAPRO\3cat_smarttv\build_templates\tizen\3cat_pre\config.xml` (17/1/2026, 11:03:00)**:
    *   **Tizen Pre Config**: Added a `config.xml` for Tizen `PRE`, with the application ID updated to `PMVOmA9N8K.3Cat`.

*   **`c:\Users\Usuario\Documents\Trabajo\MEDIAPRO\3cat_smarttv\build_templates\tizen\3cat_dev\.project` (17/1/2026, 11:16:08 - 11:20:39)**:
    *   **Tizen Dev Project Config**: Added and then slightly adjusted the project name in the `.project` file for Tizen `DEV` (changed between `3catdev` and `3catDev`, then settled on `3cat_dev`).

*   **`c:\Users\Usuario\Documents\Trabajo\MEDIAPRO\3cat_smarttv\build_templates\tizen\3cat_pre\.project` (17/1/2026, 11:16:17 - 11:20:59)**:
    *   **Tizen Pre Project Config**: Added and then slightly adjusted the project name in the `.project` file for Tizen `PRE` (changed between `3cat_pre` and `3catPre`, then settled on `3cat_pre`).

*   **`c:\Users\Usuario\Documents\Trabajo\MEDIAPRO\3cat_smarttv\build_templates\webos\3cat_dev\.project` (17/1/2026, 11:20:30)**:
    *   **WebOS Dev Project Config**: Added a `.project` file for webOS `DEV` project configuration.

*   **`c:\Users\Usuario\Documents\Trabajo\MEDIAPRO\3cat_smarttv\build_templates\webos\3cat_dev\gateway\js\app.js` (17/1/2026, 11:21:52)**:
    *   **WebOS Dev Gateway App**: Introduced a JavaScript file for the webOS `DEV` gateway application. It checks SDK version, determines connection manager service, and redirects to `https://smartv-dev.3cat.website/index.html` upon network availability.

*   **`c:\Users\Usuario\Documents\Trabajo\MEDIAPRO\3cat_smarttv\build_templates\webos\3cat_pre\.project` (17/1/2026, 11:34:16)**:
    *   **WebOS Pre Project Config**: Added a `.project` file for webOS `PRE` project configuration.

*   **`c:\Users\Usuario\Documents\Trabajo\MEDIAPRO\3cat_smarttv\build_templates\webos\3cat_pre\appinfo.json` (17/1/2026, 11:34:24 - 11:35:20)**:
    *   **WebOS Pre Appinfo**: Added an `appinfo.json` for webOS `PRE`. The `id` was updated from `"cat.3cat.webos"` to `"com.mediapro.3cat"`.

*   **`c:\Users\Usuario\Documents\Trabajo\MEDIAPRO\3cat_smarttv\build_templates\webos\3cat_dev\appinfo.json` (17/1/2026, 11:34:33 - 11:35:29)**:
    *   **WebOS Dev Appinfo**: Added an `appinfo.json` for webOS `DEV`. The `id` was updated from `"cat.3cat.webos"` to `"com.mediapro.3cat"`.

*   **`c:\Users\Usuario\Documents\Trabajo\MEDIAPRO\3cat_smarttv\build_templates\webos\3cat_pre\gateway\js\app.js` (17/1/2026, 11:36:57 - 11:43:23)**:
    *   **WebOS Pre Gateway App**: Similar to the `DEV` version but targets `https://smartv-pre.3cat.website/index.html`. A `?pr=true` query parameter was added to the `REMOTE` URL for the pre-production environment.

*   **`c:\Users\Usuario\Documents\Trabajo\MEDIAPRO\3cat_smarttv\src\utils\platformUtils.js` (17/1/2026, 12:23:41 - 20/1/2026, 11:07:44)**:
    *   **Core Platform Utilities (17/1/2026, 12:23:41)**: Introduced global `window.AppGlobal` for state and `window.PlatformUtils` for platform detection (`browser`, `tizen`, `webos`, `hisense`, `lg`, `hbbtv`), dynamically injecting `webOSTV.js` for webOS, configuring UI resolution scaling (720p, 1080p, 2160p), and getting OS versions.
    *   **Platform Override & Hisense Removal (17/1/2026, 12:31:11 - 12:32:29)**: Refactored `getPlatform` to allow platform overriding via a query string parameter (e.g., `?platform=webos`) and removed specific detection for "Hisense".
    *   **Query String Integration (17/1/2026, 12:43:11)**: Integrated the platform override logic directly by reading `qsPlatform` from `window.location.search` inside `getPlatform`.
    *   **Minor Fix (20/1/2026, 11:07:44)**: Corrected a previous error by restoring the proper `return platform` statement in `getPlatform`.

*   **`c:\Users\Usuario\Documents\Trabajo\MEDIAPRO\3cat_smarttv\src\App.jsx` (17/1/2026, 12:27:06 - 12:28:11)**:
    *   **Main React Application (17/1/2026, 12:27:06)**: Introduced the main React application component, setting up routing, numerous context providers (Auth, Broadcast, History, Settings, etc.), and platform initialization (`Platform.initPlatform`, `Platform.initKeyboard`). It includes a `BuildInfo` component for debugging and handles exit/logout modals.
    *   **Platform Initialization Refinement (17/1/2026, 12:27:35 - 12:28:11)**: Adjusted how the platform override parameter (`qsPlatform`) is passed to `Platform.initPlatform`, initially removing it, then re-adding, and finally removing it from the `App` component level, deferring its handling to `platformUtils.js`.

*   **`c:\Users\Usuario\Documents\Trabajo\MEDIAPRO\3cat_smarttv\src\platform\platform.js` (17/1/2026, 12:37:07)**:
    *   **Platform Initialization Abstraction**: Centralized platform-specific initialization (`TizenDevice`, `WebosDevice`, `HbbTVDevice`, `BrowserDevice`) and keyboard handling (`IinitKeyboardNavigation_SmartHbbTV`, `IinitKeyboardNavigation_SmartTV`) in a `Platform` object. Also added `launchApp` for launching other applications.

*   **`c:\Users\Usuario\Documents\Trabajo\MEDIAPRO\3cat_smarttv\src\platform\generic.js` (17/1/2026, 12:57:09 - 12:59:31)**:
    *   **Generic Smart TV Keyboard Handling**: Introduced `IinitKeyboardNavigation_SmartTV` for consistent keyboard navigation (arrow keys, Enter, Back/Exit) across non-HbbTV Smart TV platforms.
    *   **Key Code Updates (17/1/2026, 12:59:31)**: Updated several key codes for `BACK` and `EXIT` actions for broader compatibility (e.g., TIVO, VK_ESCAPE, VK_BACK_SPACE).

*   **`c:\Users\Usuario\Documents\Trabajo\MEDIAPRO\3cat_smarttv\package.json` (20/1/2026, 11:00:55)**:
    *   **Versioning & Extensive Scripting**: Updated `version`, `build`, and `date`. Added numerous new npm scripts categorized for:
        *   Automated versioning (`upgrade_version`, `upgrade_build`, `upgrade_date`, `upgrade_env`, `upgrade`).
        *   Local development modes (`dev`, `dev-local`, `dev-local:dummy`, etc.).
        *   Base device builds (`build:webos`, `build:tizen`).
        *   Specific SmartTV and HbbTV builds (`build:smarttv`, `build:hbbtv`).
        *   Previewing built distributions (`preview:smarttv`, `preview:webos`, `preview:tizen`, `preview:hbbtv`).
        *   **Launcher App Packaging**: A comprehensive set of scripts (`package:launcher_app:webos:dev`, `package:launcher_app:tizen:pre`, etc.) to automate packaging for different platforms and environments, utilizing `package-launcher-apps.cjs`.
        *   Placeholder scripts for future "Embedded Apps" packaging.
        *   Hosted webapp builds (`build:smarttv:hosted_webapp`, `build:hbbtv:hosted_webapp`) for various environments.
        *   Deployment scripts (`deploy:smarttv:dev`, `deploy:hbbtv:prod`) using `gsutil` to Google Cloud Storage.
    *   **Dependency Changes**: Added `jwt-decode` and several development dependencies like `@million/lint`, `dotenv`, `eslint-plugin-react-refresh`, `lodash`, `sass`, `terser`, `ua-parser-js`, `uuid`, while removing `js-cookie`.

**Patterns and Recurring Elements:**

1.  **Platform and Environment Specificity**: A strong pattern of code branching and configuration based on `webOS`, `Tizen`, and `HbbTV` platforms, and `DEV`, `PRE`, `PRO` environments. This is evident across the build script, template files, and runtime platform utilities.
2.  **Build Automation**: Significant effort has gone into automating the build and packaging process, from new npm scripts in `package.json` to the complex Node.js `package-launcher-apps.cjs` script.
3.  **Versioning Control**: Evolution of a robust versioning strategy that moves from simple `package.json` reading to interactive prompts and CLI arguments for binary versions, ensuring these versions are reflected in both platform-specific configuration files (`appinfo.json`, `config.xml`) and final package names.
4.  **Temporary Files and Cleanup**: The packaging script consistently uses temporary directories for intermediate build steps and includes logic to clean them up, ensuring clean build artifacts.
5.  **Gateway/Launcher Architecture**: The existence of `gateway/js/app.js` files across different `build_templates` indicates a "launcher app" architecture where a minimal native shell app loads a hosted web application from a remote URL, with environment-specific URLs.
6.  **Global Objects for Platform Abstraction**: Use of `window.AppGlobal` and `window.PlatformUtils` in frontend code to abstract platform-specific behaviors and state, facilitating a more unified application logic.
7.  **Input and Navigation Standardization**: Efforts to standardize keyboard input handling and navigation across various Smart TV platforms, including specific key codes for common actions like Back and Exit.
8.  **Frontend Component Development**: Development of detailed React components (`InfoGroup`, `App`) utilizing hooks and context providers for state management and modular UI.
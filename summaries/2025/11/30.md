# Activity Summary for 30/11/2025

## 0:30:12
The `package.json` file for the `3cat_smarttv` project, timestamped 28/11/2025 at 7:51:58, outlines a comprehensive build, development, and deployment pipeline. The project is currently at version `0.9.4`, build `319`, dated `2025-11-13`.

**Key Updates and Configurations:**

*   **Version Management Scripts**: A set of `upgrade_version`, `upgrade_build`, `upgrade_date`, and `upgrade_env` scripts are defined, all executed via `node` commands, to manage project metadata. The `upgrade` script combines all these operations.
*   **Local Development Modes**: Multiple `vite` commands are configured for local development, supporting various modes like `dev`, `dev-local`, `dev-local:dummy`, `dev-local:dev`, `dev-local:pre`, and `dev-local:prod`, allowing testing against different environments.
*   **Targeted Builds**: The project supports builds for specific platforms and application types:
    *   **Base Device Builds**: Dedicated `vite build` commands for `webOS` and `Tizen`.
    *   **SmartTV Builds**: `vite build` commands target `dist/smarttv` for `development`, `preproduction`, and `production` modes, along with a `watch:smarttv` command.
    *   **HBBTV Builds**: Similar `vite build` commands target `dist/hbbtv` for various environments, including a general `build:hbbtv` with watch.
*   **Preview and Start Scripts**: `vite preview` commands are set up for `webOS`, `Tizen`, and `HbbTV` to serve built distributions. Corresponding `start` scripts combine preview and build operations.
*   **Linting**: An `eslint` command is included for code quality checks.
*   **Device Packaging**:
    *   **Launcher Apps**: Scripts using `package-launcher-apps.cjs` are defined for packaging `launcher_app` for `webOS` and `Tizen` across `DEV`, `PRE`, and `PRO` environments, with `all` scripts to run all variants.
    *   **Embedded Apps**: Placeholder "TODO" scripts are present for packaging `embedded_app` for `webOS` and `Tizen` across different environments.
*   **Hosted Webapp Builds**: Specific `vite build` commands generate hosted webapps for `SmartTV` and `HbbTV` into `dist/hosted_apps/smarttv_dev|pre|prod` and `dist/hosted_apps/hbbtv_dev|pre|prod` respectively, with `all` scripts to build all environments.
*   **Deployment**: Deployment scripts utilize `gsutil` to copy built hosted webapps to Google Cloud Storage (GCS) buckets (`gs://smartv-dev|pre|pro` and `gs://hbbtv-dev|pre|pro`), applying a `Cache-Control: max-age=5` header.
*   **Dependencies**: Key runtime dependencies include `react`, `react-dom`, `react-router-dom`, `whatwg-fetch`, `youboralib`, and `jwt-decode`.
*   **Dev Dependencies**: Development tools include `@million/lint`, `@vitejs/plugin-legacy`, `@vitejs/plugin-react`, `current-device`, `dotenv`, `eslint` and its React plugins, `js-cookie`, `lodash`, `sass`, `terser`, `ua-parser-js`, `uuid`, and `vite`.

**Patterns and Recurring Elements:**

*   **Vite-centric Workflow**: The project heavily relies on Vite for development, building, and previewing across all environments and platforms.
*   **Environment-Specific Configurations**: A consistent pattern of `development`, `preproduction`, and `production` (or `DEV`, `PRE`, `PRO`) modes is applied to builds, packaging, and deployments.
*   **Platform-Specific Targets**: The project explicitly targets `webOS`, `Tizen`, `SmartTV`, and `HbbTV`, indicating a multi-platform smart TV application development focus.
*   **Structured Scripting**: The `scripts` section is well-organized with numbered categories and descriptive comments, making the automation steps clear.
*   **Automated Packaging and Deployment**: There's a clear pipeline for building, packaging (both launcher and hosted apps), and deploying hosted webapps to cloud storage.
*   **Modular Node Scripts**: Custom Node.js scripts (`check-versions.js`, `check-build-number.js`, `check-date.js`, `update-env-from-package.js`, `package-launcher-apps.cjs`) are used for specific automation tasks beyond what Vite provides.

## 4:11:49
The provided log details changes to the `package.json` file for a project named `3cat_smarttv`, recorded at `28/11/2025, 7:51:58`. The file indicates a project version `0.9.4`, build `319`, and an internal date of `2025-11-13 21:13:34`.

**Key Information from `package.json`:**

*   **Project Configuration:** The project is configured as a `module`.
*   **Extensive Script Section:** The `scripts` section is highly organized with numbered comments categorizing various operations:
    *   **Upgrade Management:** Scripts (`upgrade_version`, `upgrade_build`, `upgrade_date`, `upgrade_env`) automate the updating of project version, build number, date, and environment variables using dedicated Node.js scripts. A combined `upgrade` script runs all these.
    *   **Development Modes:** Multiple `dev` scripts use `vite` to launch the application in different local development modes (`--host`, `dummy`, `development`, `preproduction`, `production`).
    *   **Platform-Specific Builds:** Comprehensive build scripts target specific SmartTV platforms:
        *   **Base Devices:** `webOS` and `Tizen` using `vite build`.
        *   **SmartTV & HbbTV:** Dedicated `vite build` commands for `smarttv` and `hbbtv` across `development`, `preproduction`, and `production` environments, outputting to `dist/smarttv` and `dist/hbbtv` respectively, and including `watch` scripts.
    *   **Preview & Start:** `vite preview` commands for `webOS`, `Tizen`, and `HbbTV` for serving built distributions, complemented by `start` scripts that combine previewing and building.
    *   **Linting:** An `eslint` script is configured for code quality checks.
    *   **Device Packaging:**
        *   **Launcher Apps:** Scripts utilize a `package-launcher-apps.cjs` Node.js script to package launcher applications for `webOS` and `Tizen` across `DEV`, `PRE`, and `PRO` environments, with `all` scripts to run all variants for each platform.
        *   **Embedded Apps:** Placeholder "TODO" scripts exist for packaging embedded applications for `webOS` and `Tizen` across various environments.
    *   **Hosted Webapp Builds:** Scripts for building `smarttv` and `hbbtv` hosted web applications for `development`, `preproduction`, and `production` environments, outputting to `dist/hosted_apps/` with environment-specific subdirectories.
    *   **Deployment:** `gsutil` commands are used to deploy the built hosted web applications to specific Google Cloud Storage (GCS) buckets (e.g., `gs://smartv-dev`, `gs://hbbtv-pre`) for each platform and environment, applying a `Cache-Control: max-age=5` header.
*   **Dependencies:** Includes standard React libraries (`react`, `react-dom`, `react-router-dom`), `whatwg-fetch` for Fetch API polyfill, `youboralib` for video analytics, and `jwt-decode` for JWT handling.
*   **Dev Dependencies:** Contains a wide array of development tools, including Vite and its plugins (`@vitejs/plugin-legacy`, `@vitejs/plugin-react`), linting tools (`eslint`, `eslint-plugin-react`, `@million/lint`), device detection utilities (`current-device`, `ua-parser-js`), `dotenv` for environment variables, `lodash`, `sass`, `terser` for minification, `uuid`, and `js-cookie`.

**Patterns and Recurring Elements:**

*   **Vite-centric Workflow:** The project heavily relies on `Vite` for development, building, and previewing across all platforms and environments.
*   **Environment and Platform Segmentation:** There is a consistent pattern of defining scripts for `development`, `preproduction`, and `production` (often abbreviated as `dev`, `pre`, `prod`) and for specific platforms (`webOS`, `Tizen`, `SmartTV`, `HbbTV`).
*   **Structured Scripting:** The `scripts` section is meticulously organized using numbered comments, indicating a well-defined build and deployment pipeline.
*   **"All" Aggregation Scripts:** Many sections include an `all` script (e.g., `package:launcher_app:all`, `build:hosted_webapp:all`) to execute all related tasks for different environments or platforms.
*   **Cloud Deployment:** Google Cloud Storage (`gsutil`) is the chosen method for deploying hosted web applications, with consistent cache control settings.

## 5:11:43
The `package.json` file located at `c:\Users\Usuario\Documents\Trabajo\MEDIAPRO\3cat_smarttv\package.json` was updated on `28/11/2025, 7:51:58`.

This file details the configuration for a "3cat_smarttv" project, indicating its version as "0.9.4" and build "319". The `scripts` section is highly organized and comprehensive, covering various stages of the development and deployment lifecycle:

*   **Version Management:** Includes scripts (`upgrade_version`, `upgrade_build`, `upgrade_date`, `upgrade_env`) to programmatically update the project's version, build number, date, and environment variables, suggesting a robust release management process.
*   **Local Development:** Multiple `dev` scripts are configured using `vite` to support different local development modes (standard, `dummy`, `development`, `preproduction`, `production`) and host options.
*   **Multi-Platform Builds:** Extensive build commands leveraging `vite build` are defined for various SmartTV platforms:
    *   **Base Devices:** `webOS` and `Tizen`.
    *   **SmartTV:** Environment-specific builds (`dev`, `pre`, `prod`) and a `watch` mode.
    *   **HbbTV:** Similarly, environment-specific builds (`dev`, `pre`, `prod`) and a `watch` mode.
*   **Preview & Start:** Scripts for `vite preview` are set up for `webOS`, `Tizen`, and `HbbTV` to serve built distributions, alongside `start` commands that combine previewing and building.
*   **Linting:** An `eslint` script is included for code quality enforcement.
*   **Device Packaging:**
    *   **Launcher Apps:** Detailed scripts use a custom `package-launcher-apps.cjs` Node script to package launcher applications for `webOS` and `Tizen` across `DEV`, `PRE`, and `PRO` environments, with combined "all" options.
    *   **Embedded Apps:** Placeholder "TODO" scripts are present for future embedded application packaging for `webOS` and `Tizen`, indicating planned functionality.
*   **Hosted Webapp Builds:** Dedicated `vite build` commands generate hosted web applications for SmartTV and HbbTV across `dev`, `pre`, and `prod` environments, outputting to specific `dist/hosted_apps` subdirectories.
*   **Hosted Webapp Deployment:** `gsutil` commands are used to deploy the built hosted web applications to Google Cloud Storage (GCS) buckets (e.g., `gs://smartv-dev`, `gs://hbbtv-pre`), including cache control headers.

**Dependencies and DevDependencies:**
The project relies on standard frontend dependencies like `react`, `react-dom`, `react-router-dom`, with specific inclusions for `youboralib` (likely for analytics) and `jwt-decode`. Development dependencies include `vite` for the build system, `@vitejs/plugin-react` and `@vitejs/plugin-legacy`, `eslint` and its related plugins for linting, `sass` for styling, and various utility libraries such as `lodash`, `js-cookie`, `ua-parser-js`, `uuid`, and `dotenv`.

**Patterns and Recurring Elements:**
A strong pattern of environment-specific (development, preproduction, production) configurations is evident across builds, packaging, and deployments. The `vite` build tool is central to the entire build pipeline, and Google Cloud Storage is used for deploying hosted web applications. The structured comments within the `scripts` section categorize the various operations, highlighting a systematic approach to project management and deployment for multiple SmartTV platforms.

## 6:11:44
The `package.json` file for the `3cat_smarttv` project, as recorded on 28/11/2025 at 7:51:58, outlines a comprehensive development, build, and deployment workflow.

**File-Specific Updates and Structure:**

*   The project is named `3cat_smarttv` and is currently at version `0.9.4`, build `319`, with an internal project date of `2025-11-13 21:13:34`.
*   The `scripts` section is highly organized, divided into eleven logical categories using comments, indicating a structured approach to project management:
    *   **Upgrade Scripts:** Dedicated scripts (`upgrade_version`, `upgrade_build`, `upgrade_date`, `upgrade_env`) manage versioning, build numbers, dates, and environment variables using custom Node.js scripts.
    *   **Development Modes:** A variety of `dev` scripts leverage `Vite` for local development, supporting different modes like `dummy`, `development`, `preproduction`, and `production`.
    *   **Build Processes:** Extensive `vite build` commands are defined for `webOS`, `Tizen`, `SmartTV`, and `HbbTV` platforms, each configurable for `development`, `preproduction`, and `production` environments.
    *   **Preview and Start:** `vite preview` scripts are set up to serve built `dist` directories for `webOS`, `Tizen`, and `HbbTV`, with `start` commands combining build and preview.
    *   **Linting:** An `eslint` command (`lint`) is included for code quality assurance.
    *   **Device Packaging:** Scripts (`package:launcher_app`) use a custom Node.js script (`package-launcher-apps.cjs`) to package launcher applications for `webOS` and `Tizen` across `DEV`, `PRE`, and `PRO` environments. Placeholder "TODO" scripts for "embedded apps" mirror this structure.
    *   **Hosted Webapp Builds:** Separate `vite build` commands target `hosted_apps` for `SmartTV` and `HbbTV` across all environments.
    *   **Deployment:** `gsutil` commands are used to deploy the built `hosted_apps` to Google Cloud Storage (GCS) buckets, with distinct buckets for `dev`, `pre`, and `prod` environments for both SmartTV and HbbTV.
*   **Dependencies:** Key runtime dependencies include `react`, `react-dom`, `react-router-dom`, `whatwg-fetch`, `youboralib`, and `jwt-decode`.
*   **DevDependencies:** Development dependencies are primarily for build tooling (`vite`, `@vitejs/plugin-react`, `@vitejs/plugin-legacy`), linting (`eslint` and plugins), styling (`sass`), and utilities (`dotenv`, `lodash`, `ua-parser-js`).

**Patterns and Recurring Elements:**

*   **Vite as the Core Bundler:** `Vite` is consistently used across all development, build, and preview scripts, highlighting its central role in the project's build system.
*   **Multi-Environment Support:** There's a strong pattern of supporting `development`, `preproduction` (or `pre`), and `production` (or `prod`/`pro`) environments for builds, packaging, and deployments, ensuring a robust CI/CD pipeline.
*   **Platform Specificity:** The project explicitly targets multiple Smart TV platforms, including `webOS`, `Tizen`, `SmartTV`, and `HbbTV`, with dedicated scripts for each.
*   **Modular Scripting:** The use of `node` scripts (`check-versions.js`, `check-build-number.js`, `check-date.js`, `update-env-from-package.js`, `package-launcher-apps.cjs`) indicates a preference for custom, modular automation beyond standard npm commands.
*   **Cloud Deployment:** Deployment scripts for hosted webapps consistently utilize `gsutil` for deploying to Google Cloud Storage, suggesting a cloud-based hosting strategy.
*   **Structured Output:** Build commands often specify an `outDir` (e.g., `dist/smarttv`, `dist/hbbtv`, `dist/hosted_apps`), demonstrating a structured approach to build artifact management.

## 9:13:44
The `package.json` file for the `3cat_smarttv` project, last modified on `28/11/2025, 7:51:58`, details a comprehensive development, build, and deployment workflow.

**File-specific Updates:**

*   **Project Metadata:** The project is named `3cat_smarttv`, currently at `version 0.9.4`, `build 319`, with an internal application date of `2025-11-13`. It is configured as a `type: "module"` project.
*   **Extensive Scripting:** The `scripts` section is highly organized into eleven numbered categories with descriptive comments, covering:
    *   **Version Management:** Scripts to `upgrade_version`, `upgrade_build`, `upgrade_date`, and `upgrade_env` using custom Node.js scripts, with a combined `upgrade` command.
    *   **Local Development:** Various `vite` commands for local development across different modes (`dummy`, `development`, `preproduction`, `production`).
    *   **Build Processes:** Dedicated `vite build` commands for `webOS`, `Tizen`, `SmartTV`, and `HbbTV` platforms, each with `development`, `preproduction`, and `production` modes. SmartTV and HbbTV builds output to `dist/smarttv` and `dist/hbbtv` respectively.
    *   **Previewing:** `vite preview` scripts to serve built distributions for `webOS`, `Tizen`, and `HbbTV`.
    *   **Linting:** An `eslint` command for code quality checks.
    *   **Device Packaging:** Node.js scripts (`package-launcher-apps.cjs`) are used to package launcher applications for `webOS` and `Tizen` across `DEV`, `PRE`, and `PRO` environments. Packaging for "embedded apps" is included as placeholder `TODO` scripts, indicating future implementation.
    *   **Hosted Webapp Builds:** `vite build` commands create hosted web apps for SmartTV and HbbTV, outputting to distinct directories like `dist/hosted_apps/smarttv_dev` based on platform and environment.
    *   **Deployment:** `gsutil` commands are used to deploy the hosted web apps to specific Google Cloud Storage buckets (e.g., `gs://smartv-dev`, `gs://hbbtv-dev`) for different environments and platforms, with a `Cache-Control: max-age=5` header.
*   **Dependencies:** Key runtime dependencies include `react`, `react-dom`, `react-router-dom`, `whatwg-fetch`, `youboralib` (for analytics), and `jwt-decode`.
*   **Dev Dependencies:** Development dependencies include `vite` and its plugins, `eslint` and related plugins, `dotenv`, `sass`, `terser`, and various utility libraries like `lodash`, `uuid`, `ua-parser-js`, `js-cookie`, and `current-device`.

**Timestamps of Significant Changes:**

*   The `package.json` file itself was last recorded as changed on `28/11/2025, 7:51:58`.
*   The application's internal build date specified within the file is `2025-11-13 21:13:34`.

**Patterns and Recurring Elements:**

*   **Environment-Specific Operations:** A strong pattern is the breakdown of most build, packaging, and deployment scripts into `development`/`DEV`, `preproduction`/`PRE`, and `production`/`PRO` environments.
*   **Platform-Specific Operations:** Workflows are consistently separated by target platforms: `webOS`, `Tizen`, `SmartTV`, and `HbbTV`.
*   **Combined "All" Scripts:** Many script sections include convenience commands (e.g., `package:launcher_app:webos:all`, `build:hosted_webapp:all`) to execute all related environment/platform-specific commands in one go.
*   **Vite Build System:** `vite` is the primary tool used for compilation (`build`) and local serving (`dev`, `preview`) across all application variants.
*   **Structured Output:** A clear convention for output directories exists, with builds typically going into `dist/` subfolders organized by platform and environment.
*   **Sequential Workflow:** The structured comments in the `scripts` section (e.g., "01 UPGRADE", "02 LOCAL DEVELOPMENT MODES", "11 DEPLOY HOSTED WEBAPPS") indicate a logical, step-by-step CI/CD or development workflow.

## 10:13:39
The `package.json` file for the `3cat_smarttv` project, timestamped `28/11/2025, 7:51:58`, outlines an extensive set of scripts for development, building, packaging, and deployment targeting multiple smart TV platforms. The project is currently at version `0.9.4`, build `319`, with an internal project date of `2025-11-13 21:13:34`.

Key updates and patterns observed within this `package.json` include:

*   **Comprehensive Scripting:** The `scripts` section is highly organized with numbered categories and comments, covering a wide range of actions from upgrading project metadata to deploying hosted web applications.
*   **Automated Project Updates:** Dedicated scripts (`upgrade_version`, `upgrade_build`, `upgrade_date`, `upgrade_env`) use custom Node.js scripts (`check-versions.js`, `check-build-number.js`, `check-date.js`, `update-env-from-package.js`) to automate the incrementing of version, build number, date, and environment variables.
*   **Vite-Centric Build System:** `Vite` is the primary tool used for local development (`dev`, `dev-local` with various modes like `dummy`, `development`, `preproduction`, `production`), building for different target platforms (`webos`, `tizen`, `smarttv`, `hbbtv`), and previewing built distributions.
*   **Multi-Platform Support:** The project explicitly supports `webOS`, `Tizen`, `SmartTV`, and `HbbTV`, with distinct build, preview, and packaging scripts for each.
*   **Environment-Specific Builds and Deployments:** A consistent pattern of `development` (dev), `preproduction` (pre), and `production` (prod/pro) environments is applied across various build and deployment tasks, ensuring tailored outputs for different stages.
*   **Application Packaging:** Scripts are in place for packaging "launcher apps" for `webOS` and `Tizen` across all environments using `package-launcher-apps.cjs`. There are also placeholder "TODO" scripts for "embedded apps," indicating future development.
*   **Hosted Webapp Deployment:** The project includes scripts for building hosted web applications for `SmartTV` and `HbbTV` into `dist/hosted_apps/` subdirectories. Crucially, deployment scripts use `gsutil` to copy these built applications to Google Cloud Storage (GCS) buckets (e.g., `gs://smartv-dev`, `gs://hbbtv-prod`), with a specific `Cache-Control: max-age=5` header set for uploaded files, suggesting aggressive caching strategies or frequent updates.
*   **Linting:** `eslint` is configured for code quality, targeting `js,jsx` files.
*   **Dependencies:** Core dependencies include `react`, `react-dom`, `react-router-dom`, `whatwg-fetch`, `youboralib` for analytics, and `jwt-decode`.
*   **Development Dependencies:** Essential dev tools consist of `Vite` plugins, `eslint` and its ecosystem, `sass` for styling, `dotenv` for environment variable management, and utility libraries like `lodash` and `ua-parser-js`.

## 11:13:40
The `package.json` file, last modified on **28/11/2025 at 7:51:58**, outlines the configuration and scripts for a project named `3cat_smarttv`, currently at version `0.9.4` with build number `319`, dated `2025-11-13 21:13:34`.

**Key File-Specific Updates and Structure:**

The `scripts` section is highly organized, categorizing operations into distinct phases:

1.  **Version Management**: Scripts (`upgrade_version`, `upgrade_build`, `upgrade_date`, `upgrade_env`, `upgrade`) are defined to automate the updating of the project's version, build number, date, and environment variables.
2.  **Local Development**: Multiple `dev` scripts use `vite` to run the application in various local modes, including default, dummy data, development, preproduction, and production, often with host access enabled.
3.  **Device-Specific Builds**:
    *   **Base Builds**: Dedicated `vite build` commands target `webOS` and `Tizen` platforms.
    *   **SmartTV & HbbTV Builds**: `vite build` commands are set up for `smarttv` and `hbbtv` across `development`, `preproduction`, and `production` environments, outputting to `dist/smarttv` and `dist/hbbtv` respectively. `watch` scripts are also included for continuous compilation.
4.  **Previewing Builds**: `vite preview` commands allow serving the built `dist` directories for `webOS`, `Tizen`, and `HbbTV`, with `start` scripts combining building and previewing.
5.  **Linting**: An `eslint` script is configured for code quality checks.
6.  **Device Packaging**:
    *   **Launcher Apps**: Node.js scripts (`package-launcher-apps.cjs`) are used to package launcher applications for `webOS` and `Tizen` across `DEV`, `PRE`, and `PRO` environments, with convenience scripts to package all environments for a platform.
    *   **Embedded Apps**: Similar packaging scripts exist for `embedded_app` on `webOS` and `Tizen`, but these are currently marked as "TODO".
7.  **Hosted WebApp Builds**: Separate `vite build` commands target `smarttv` and `hbbtv` for `hosted_apps` across `development`, `preproduction`, and `production` environments, outputting to specific directories like `dist/hosted_apps/smarttv_dev`.
8.  **Hosted WebApp Deployment**: `gsutil` commands are used to deploy the built hosted web applications for `smarttv` and `hbbtv` to Google Cloud Storage (GCS) buckets (e.g., `gs://smartv-dev`, `gs://hbbtv-pre`). These deployments include a `Cache-Control` header set to `max-age=5`.

**Dependencies and Development Dependencies:**

*   **Dependencies** include core React libraries (`react`, `react-dom`, `react-router-dom`), network utilities (`whatwg-fetch`), a video analytics library (`youboralib`), and a JWT decoding utility (`jwt-decode`).
*   **Development Dependencies** are comprehensive, featuring `vite` and its React/legacy plugins, linting tools (`eslint` and its plugins, `@million/lint`), environment management (`dotenv`), utility libraries (`current-device`, `js-cookie`, `lodash`, `ua-parser-js`, `uuid`), styling preprocessors (`sass`), and code minifiers (`terser`).

**Patterns and Recurring Elements:**

*   **Environment-Specific Operations**: A strong and consistent pattern is the use of `dev`, `pre` (preproduction), and `prod` (production) environments across nearly all build, package, and deploy scripts, allowing for tailored deployments and configurations.
*   **Platform Targeting**: The project heavily targets specific platforms: `webOS`, `Tizen`, `SmartTV`, and `HbbTV`, indicating development for various smart TV ecosystems.
*   **Vite as Core Tool**: `vite` is the central build and development tool, leveraged for development servers, building, and previews.
*   **Modular Scripting**: The `package.json` is well-commented and structured with distinct sections for different operational categories, enhancing readability and maintainability.
*   **Automated Updates**: The presence of `upgrade_` scripts for version, build, and date suggests an automated or semi-automated release process.
*   **Google Cloud Storage Deployment**: `gsutil` is exclusively used for deploying hosted web applications, indicating a reliance on Google Cloud Platform for hosting.
*   **Consistent Output Paths**: Build outputs generally follow a `dist/<platform>` or `dist/hosted_apps/<platform_env>` pattern.

## 14:31:23
The `package.json` file for the `3cat_smarttv` project, updated on 28/11/2025 at 7:51:58, defines the project's metadata, scripts, and dependencies.

**File-Specific Updates:**

*   **Project Metadata:** The project is named "3cat_smarttv", is private, and has a current version of "0.9.4" with build "319", and a recorded date of "2025-11-13 21:13:34". It is configured as an ES module (`"type": "module"`).
*   **Scripts:** The `scripts` section is highly organized into eleven distinct categories, indicating a comprehensive CI/CD and development workflow:
    1.  **Upgrade Scripts:** Manage version, build, date, and environment variables using dedicated Node.js scripts (`check-versions.js`, `check-build-number.js`, `check-date.js`, `update-env-from-package.js`).
    2.  **Local Development Modes:** Provide various `vite` commands for local development across different environments (default, dummy, development, preproduction, production).
    3.  **Base Device Builds:** Define `vite build` commands for `webOS` and `Tizen` platforms.
    4.  **SmartTV Builds:** Include `vite build` commands for development, preproduction, and production, outputting to `dist/smarttv`, along with a `watch` script.
    5.  **HBBTV Builds:** Similar to SmartTV, define `vite build` commands for different environments and a `watch` script, outputting to `dist/hbbtv`.
    6.  **Preview Scripts:** Allow previewing built distributions for `webOS`, `Tizen`, and `HBBTV` using `vite preview`, with associated `start` commands combining build and preview.
    7.  **Linting:** Uses `eslint` for code quality checks.
    8.  **Device Packaging (Launcher Apps):** Features extensive Node.js scripts (`package-launcher-apps.cjs`) to package launcher applications for `webOS` and `Tizen` across development, preproduction, and production environments.
    9.  **Device Packaging (Embedded Apps):** This section is present but marked as "TODO" for future implementation across `webOS` and `Tizen` for various environments.
    10. **Hosted Webapp Builds:** Dedicated `vite build` commands for SmartTV and HBBTV hosted web applications, generating outputs into `dist/hosted_apps/smarttv_*/hbbtv_*` directories for dev, pre, and prod.
    11. **Deploy Hosted Webapps (GCS):** Utilizes `gsutil` commands to deploy the built hosted web applications for SmartTV and HBBTV to specific Google Cloud Storage (GCS) buckets (`gs://smartv-dev`, `gs://hbbtv-dev`, etc.) with a `Cache-Control` header.
*   **Dependencies:** Core dependencies include `react`, `react-dom`, `react-router-dom`, `whatwg-fetch`, `youboralib`, and `jwt-decode`.
*   **DevDependencies:** Development tools include `@million/lint`, `@vitejs/plugin-legacy`, `@vitejs/plugin-react`, `current-device`, `dotenv`, `eslint` and its plugins, `js-cookie`, `lodash`, `sass`, `terser`, `ua-parser-js`, `uuid`, and `vite`.

**Patterns and Recurring Elements:**

*   **Multi-Platform Support:** A strong emphasis on supporting multiple smart TV platforms, specifically `webOS`, `Tizen`, `SmartTV`, and `HBBTV`, reflected in dedicated build, preview, and packaging scripts.
*   **Environment-Specific Workflows:** Nearly all build, package, and deploy scripts are structured to handle `development`, `preproduction` (or `pre`), and `production` (or `prod`) environments, enabling distinct pipelines for each stage.
*   **Vite Integration:** `Vite` is consistently used as the primary build tool for development, building, and previewing applications across all platforms and environments.
*   **Node.js for Automation:** Custom Node.js scripts are employed for specific automation tasks like version/build updates and device packaging, indicating a tailored build process.
*   **Google Cloud Storage Deployment:** Deployment of hosted web applications leverages `gsutil` for pushing content to GCS buckets, highlighting a cloud-based hosting strategy.
*   **Modular Scripting:** The `scripts` section is extensively broken down and commented, suggesting a well-structured and maintainable approach to project operations.
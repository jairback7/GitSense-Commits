# Activity Summary for 30/11/2025

## 0:30:12
The `package.json` file for the `3cat_smarttv` project, timestamped 28/11/2025 at 7:51:58, outlines a comprehensive build, development, and deployment pipeline. The project is currently at version `0.9.4`, build `319`, dated `2025-11-13`.

**Key Updates and Configurations:**

*   **Version Management Scripts**: A set of `upgrade_version`, `upgrade_build`, `upgrade_date`, and `upgrade_env` scripts are defined, all executed via `node` commands, to manage project metadata. The `upgrade` script combines all these operations.
*   **Local Development Modes**: Multiple `vite` commands are configured for local development, supporting various modes like `dev`, `dev-local`, `dev-local:dummy`, `dev-local:dev`, `dev-local:pre`, and `dev-local:prod`, allowing testing against different environments.
*   **Targeted Builds**: The project supports builds for specific platforms and application types:
    *   **Base Device Builds**: Dedicated `vite build` commands for `webOS` and `Tizen`.
    *   **SmartTV Builds**: `vite build` commands target `dist/smarttv` for `development`, `preproduction`, and `production` modes, along with a `watch:smarttv` command.
    *   **HBBTV Builds**: Similar `vite build` commands target `dist/hbbtv` for various environments, including a general `build:hbbtv` with watch.
*   **Preview and Start Scripts**: `vite preview` commands are set up for `webOS`, `Tizen`, and `HbbTV` to serve built distributions. Corresponding `start` scripts combine preview and build operations.
*   **Linting**: An `eslint` command is included for code quality checks.
*   **Device Packaging**:
    *   **Launcher Apps**: Scripts using `package-launcher-apps.cjs` are defined for packaging `launcher_app` for `webOS` and `Tizen` across `DEV`, `PRE`, and `PRO` environments, with `all` scripts to run all variants.
    *   **Embedded Apps**: Placeholder "TODO" scripts are present for packaging `embedded_app` for `webOS` and `Tizen` across different environments.
*   **Hosted Webapp Builds**: Specific `vite build` commands generate hosted webapps for `SmartTV` and `HbbTV` into `dist/hosted_apps/smarttv_dev|pre|prod` and `dist/hosted_apps/hbbtv_dev|pre|prod` respectively, with `all` scripts to build all environments.
*   **Deployment**: Deployment scripts utilize `gsutil` to copy built hosted webapps to Google Cloud Storage (GCS) buckets (`gs://smartv-dev|pre|pro` and `gs://hbbtv-dev|pre|pro`), applying a `Cache-Control: max-age=5` header.
*   **Dependencies**: Key runtime dependencies include `react`, `react-dom`, `react-router-dom`, `whatwg-fetch`, `youboralib`, and `jwt-decode`.
*   **Dev Dependencies**: Development tools include `@million/lint`, `@vitejs/plugin-legacy`, `@vitejs/plugin-react`, `current-device`, `dotenv`, `eslint` and its React plugins, `js-cookie`, `lodash`, `sass`, `terser`, `ua-parser-js`, `uuid`, and `vite`.

**Patterns and Recurring Elements:**

*   **Vite-centric Workflow**: The project heavily relies on Vite for development, building, and previewing across all environments and platforms.
*   **Environment-Specific Configurations**: A consistent pattern of `development`, `preproduction`, and `production` (or `DEV`, `PRE`, `PRO`) modes is applied to builds, packaging, and deployments.
*   **Platform-Specific Targets**: The project explicitly targets `webOS`, `Tizen`, `SmartTV`, and `HbbTV`, indicating a multi-platform smart TV application development focus.
*   **Structured Scripting**: The `scripts` section is well-organized with numbered categories and descriptive comments, making the automation steps clear.
*   **Automated Packaging and Deployment**: There's a clear pipeline for building, packaging (both launcher and hosted apps), and deploying hosted webapps to cloud storage.
*   **Modular Node Scripts**: Custom Node.js scripts (`check-versions.js`, `check-build-number.js`, `check-date.js`, `update-env-from-package.js`, `package-launcher-apps.cjs`) are used for specific automation tasks beyond what Vite provides.